{"version":3,"sources":["org-admin.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"org-admin.js","sourcesContent":["\n$(function( ){\n\n    /**\n    General Information Modal JS Events\n    **/\n\n    /** Set up text editor options **/\n    var jqteOptions = {\n        format: false,\n        sub:    false,\n        sup:    false,\n        ol:     false,\n        ul:     false,\n        source: false,\n        link:   false,\n        class: \"jqteOverRide\", \n    };\n\n    var userId = \"\";\n\n    /** Check if userId is populated.  If so, populate Above variable **/\n    if( $(\"input[name=userId]\").length > 0 ){\n        userId = $(\"input[name=userId]\").val( );\n    }\n\n    orgId = $(\"input[name=orgId]\").val( );\n\n    /** Set up text editor for Brief Description **/\n    //$(\"textarea[name=brief-description]\").jqte(jqteOptions);\n\n    /** Set up text editor for Mission Statement **/\n    //$(\"textarea[name=mission-statement]\").jqte(jqteOptions);\n\n    /** Set up text editor for About Us **/\n    //$(\"textarea[name=about-us]\").jqte(jqteOptions);    \n\n    /** Set up text editor for Incentive Description **/\n    $(\"textarea[name=incentive-description]\").jqte(jqteOptions);    \n\n    /** Set up text editor for Incentive Updated **/\n    $(\"textarea[name=incentive-update]\").jqte(jqteOptions);\n\n    /** Set up text editor for Project Story **/\n    $(\"textarea[name=project_story]\").jqte(jqteOptions);\n\n    /** Set up cause description **/\n    $(\"textarea[name=cause-description-textarea]\").jqte(jqteOptions);    \n\n    /** Set up crowdfunding description **/\n    $(\"textarea[name=update-desc]\").jqte(jqteOptions);    \n\n    /** Event for Saving General Info **/\n    $(\".save-general-info\").on(\"click\", function( ){\n\n        var $button = $(this);\n        \n        var missionStatement    = $(\"textarea[name=mission-statement]\").val( )\n        \n        var aboutUs             = $(\"textarea[name=about-us]\").val( );\n\n        var briefDescription    = $(\"textarea[name=brief-description\").val( );\n\n        var orgName             = $(\"input[name=org-name\").val( );\n\n        $.ajax({\n            url: \"/organization/updateGeneralInfo\",\n            method: \"POST\",\n            data: encodeURI( \"missionStatement=\" + missionStatement + \"&aboutUs=\" + aboutUs + \"&briefDescription=\" + briefDescription + \"&orgName=\" + orgName + \"&orgId=\" + orgId),\n            dataType: \"json\",\n            beforeSend: function( ){\n                $button.html(\"Updating Information...\");\n                $(\".upload-generalInfo-error\").find(\".error-list\").html(\"\");\n            },\n            success: function( resp ){\n\n                $button.html(\"Save Changes\");\n\n                if( resp.status ){\n                    $(\".upload-generalInfo-success\").fadeIn( );\n\n                    if( $(\".about-us\").length > 0 ){\n                        $(\".org-header\").find('.header-content').find('.org-name').html( orgName );\n                        $(\".about-us\").find(\".mission-content\").html( missionStatement.replace(/(<([^>]+)>)/ig,\"\") );\n                        $(\".about-us\").find(\".aboutUs-content\").html( aboutUs.replace(/(<([^>]+)>)/ig,\"\") );    \n                    }\n\n                    setTimeout( function( ){\n                        $(\".upload-generalInfo-success\").fadeOut( );\n                        $(\"#generalInfoModal\").modal('hide');\n                    }, 5000);\n\n                }else{\n\n                    $(\".upload-generalInfo-error\").show( );\n\n                    setTimeout( function( ){\n                        $(\".upload-generalInfo-error\").fadeOut( );\n                    }, 5000);\n                }\n            }\n        });\n    });\n\n    $(\"#generalInfoModal\").on(\"hide.bs.modal\", function( ){\n\n        $(\".upload-generalInfo-success\").hide( );\n        $(\".upload-generalInfo-error\").find(\".error-list\").html( \"\" );\n        $(\".upload-generalInfo-error\").hide( );\n        \n        if( $(\".about-us\").length == 0 ){\n            location.reload( );\n        }\n    });\n\n\n    /**\n    Cause Modal\n    **/\n\n    var cause = {};\n    var subcauses = [];\n    var countries = [];\n    var xhr = null;\n    var action = \"\";\n    var causeChanges = false;\n\n    $(\"input[name=country-text]\").on(\"keyup\", function( ){\n\n        var parent = $(this).parent( );\n\n        var inputCoords = $(this).offset( );\n\n        var inputWidth  = $(this).width( ) + 24;\n\n        var inputHeight = $(this).height( ) + 12;\n\n        var tmpCountry = {};\n\n        if( $(this).val( ).length >= 3 ){\n            var query = $(this).val( );\n\n            if( xhr ){\n                if( xhr.readyState != 4 ){\n                    xhr.abort( );\n                }\n            }\n\n            xhr = $.ajax({\n                url: \"/findCountry/\" + query,\n                dataType: \"json\",\n                beforeSend: function( ){\n                    $(\"input[name=country-text]\").css({\n                       background: \"url(/images/loading1.gif) top right no-repeat\",\n                       backgroundSize: \"contain\" \n                    });\n                },\n                success: function( resp ){\n\n                    $(\"input[name=country-text]\").css(\"background\", \"\");\n\n                    var countryList = \"<div style='top: \" + inputHeight + \"px; width: \" + inputWidth + \"px;' class='country-search-container'>\";\n\n                    for( x in resp ){\n                        countryList += \"<div class='country-selection' data-country-id='\" + resp[x].country_id + \"'>\" + resp[x].country_name + \"</div>\";\n                    }\n                    countryList += \"</div>\";\n\n                    parent.append( countryList );\n                }\n            });\n        }\n    });\n\n    //event for clicking on a cause (adding)\n    $(\"input[name=cause-option]\").on(\"change\", function( ){\n\n        var causeId = $(this).prop(\"id\").split(\"-\");\n\n        causeId = causeId[2];\n\n        console.log( $(\".currentCauseList\").find(\"div[data-org-cause=\" + causeId + \"]\").length );\n\n        if( $(\".currentCauseList\").find(\"div[data-org-cause=\" + causeId + \"]\").length > 0 ){\n            $(\".currentCauseList\").find(\"div[data-org-cause=\" + causeId + \"]\").trigger(\"click\");\n\n        }else{\n            \n            cause       = {};\n            subcauses   = [];\n            countries   = [];\n            action      = \"add\";\n\n            clearSubCauses( );\n\n            clearOtherCauses( causeId );\n\n            clearCountries( );\n\n            cause.cause_id = causeId;\n\n            $(\".availableSubCauseList\").find(\"label\").hide( );\n\n            $(\".availableSubCauseList\").find(\"label[data-parent-id=\" + causeId + \"]\").show( );\n\n            $(\".cause-action\").html( \"Add New Cause\").addClass(\"btn-primary\").removeClass('btn-success');\n\n            $(\"textarea[name=cause-description-textarea]\").jqteVal(\"\");\n\n            if( $(\".subCauseWrapper\").hasClass(\"hidden\") ){\n                $(\".subCauseWrapper\").removeClass( \"hidden\" );\n            }    \n        }\n    });\n\n    //event for clicking on an already selected Cause ( Updating )\n    $(document).on(\"click\", \".org-cause\", function( ){\n        console.log( \"in org-cause call\");\n        cause = {};\n        subcauses = [];\n        countries = [];\n        action = \"update\";\n\n        $(\".main-cause-heading\").html( \"Update \" + $(this).find(\".cause-title\").html( ) );\n\n        clearSubCauses( );\n\n        var causeId = $(this).data(\"org-cause\");\n        var orgCauseId = $(this).data(\"org-cause-id\");\n\n        cause.cause_id = causeId;\n        cause.org_cause_id = orgCauseId;\n\n        clearOtherCauses( causeId );\n\n        clearCountries( );\n\n        $(\".availableCauseList label\").each( function( ){\n            \n            if( $(this).find(\"input[type=radio]\").prop(\"id\") == \"cause-option-\" + causeId ){\n\n                $(this).find(\"input[type=radio]\").prop(\"checked\", true);\n\n                $(this).find(\"input[type=radio]\").parent( ).addClass('active');\n\n                $(\".availableSubCauseList\").find(\"label[data-parent-id=\" + causeId + \"]\").show( );\n\n                if( $(\".subCauseWrapper\").hasClass(\"hidden\") ){\n                    $(\".subCauseWrapper\").removeClass( \"hidden\" );\n                }\n\n                $(\"textarea[name=cause-description-textarea]\").jqteVal( $(\".currentCauseList\").find(\".org-cause[data-org-cause=\" + causeId + \"]\").find(\".cause-text\").html( ) );\n\n                $(\".cause-action\").html( \"Update Cause Data \").addClass(\"btn-success\").removeClass('btn-primary');\n            }\n        });\n\n        $(this).find(\".sub-cause-list span\").each( function( ){\n\n            var subCauseId = $(this).data('subcause-id');\n\n            $(\".availableSubCauseList label\").find(\"input[type=checkbox][id=sub-cause-option-\" + subCauseId + \"]\").prop(\"checked\", true);\n\n            $(\".availableSubCauseList label\").find(\"input[type=checkbox][id=sub-cause-option-\" + subCauseId + \"]\").parent( ).addClass('active');\n        });\n\n        $(this).find(\".cause-country-list span\").each( function( ){\n            \n            var id = $(this).data('cause-country');\n            var name = $(this).html( );\n\n            countryPill = \"<div class='country-pill'><button class='btn btn-primary' type='button' data-country-id='\" + id + \"' data-country-name='\" + name + \"'>\" + name + \"<span class='badge'>X</span></div>\";\n\n            countries.push( {id: id, name: name});\n\n            $(\".country-list\").append( countryPill ).show( ); \n        });\n    });\n\n    $(\".org-cause\").on({\n        mouseover: function( ){\n            $(this).find(\".cause-remove-button\").removeClass('hidden');\n        },\n        mouseleave: function( ){\n            $(this).find(\".cause-remove-button\").addClass('hidden');\n        }\n    });\n\n    $(\".cause-remove-button\").on(\"click\", function( ){\n\n        var removeCauseId = $(this).find(\"button\").data(\"cause-id\");\n        var _token = $(\"input[name=_token]\").val( );\n\n        $.ajax({\n            url: \"/organization/removeCause\",\n            method: \"POST\",\n            data: \"causeId=\" + $(this).find(\"button\").data(\"cause-id\") + \"&orgId=\" + orgId + \"&_token=\" + _token,\n            dataType: \"json\",\n            sucess: function( resp ){\n\n                if( resp.status ){\n                    causeChanges = true;\n                    $(\".org-cause[data-org-cause=\" + removeCauseId + \"]\").remove( );\n\n                    //clear causes\n                    clearOtherCauses( 0 );\n                    //clear subcauses\n                    clearSubCauses( );\n                    //clear countries\n                    clearCountries( );\n                    //clear textarea\n                    $(\"textarea[name=cause-description-textarea]\").jqteVal( \"\" );\n                    //update page causes\n\n                }\n            }\n        });\n    });\n\n    //Event for clicking a sub-cause\n    $(\"input[name=sub-cause-option]\").on(\"change\", function( ){\n\n        if( $(this).is(\":checked\") ){\n            var subCauseId = $(this).prop(\"id\").split(\"-\")[3];\n\n            subcauses.push( subCauseId );\n        }else{\n            var index = subcauses.splice( subcauses.indexOf( subCauseId ), 1);\n        }\n    });\n\n    //event for clicking on a country that is in the country list\n    $(document).on(\"click\", \".country-selection\", function( ){\n\n        tmpCountry = {};\n\n        tmpCountry = {\"name\": $(this).text( ), \"id\": $(this).data('country-id')};\n        \n        $(\".country-search-container\").remove( );\n\n        $(\"input[name=country-text]\").val( tmpCountry.name );\n    });\n\n    //Add the country chosen from above event\n    $(\"#add-country\").on(\"click\", function( ){\n\n        var countryPill = \"<div class='country-pill'>\";\n\n        countries.push( tmpCountry ); \n\n        countryPill += \"<button class='btn btn-primary' type='button' data-country-id='\" + tmpCountry.id + \"' data-country-name='\" + tmpCountry.name + \"'>\" + tmpCountry.name + \"<span class='badge remove-country'>X</span></div>\";\n\n        tmpCountry = {};\n\n        $(\"input[name=country-text]\").val( \"\" );\n\n        $(\".country-list\").append( countryPill ).show( );    \n        \n    });\n\n    $(\".cause-action\").on(\"click\", function( ){\n\n        var _token = $(\"input[name=_token\").val( );\n\n        cause.sub_causes = subcauses;\n\n        cause.countries = countries;\n\n        cause.desc = $(\"textarea[name=cause-description-textarea]\").val( );\n\n        cause.action = action;\n\n        cause.orgId  = orgId;\n\n        cause._token = _token;\n\n        var url = \"\";\n\n        if( action == \"add\" ){\n            url = \"/organization/addCause\";\n        }else{\n\n            url = \"/organization/updateCause\";\n        }\n\n        $.ajax({\n            url: url,\n            method: 'POST',\n            data: cause,\n            dataType: 'json',\n            beforeSend: function( ){\n                if( cause.action == \"add\" ){\n                    $(\".cause-action\").html( \"Adding Cause...\");\n                }else{\n                    $(\".cause-action\").html(\"Updating Cause...\");\n                }\n                \n            },\n            success: function( resp ){\n\n                $(\".cause-action\").html(\"Add Cause\");\n\n                if( resp.status ){\n\n                    causeChanges = true;\n\n                    var subCauseList = \"\";\n                    var countryList = \"\";\n\n                    if( cause.action == \"update\" ){\n                        //update 'selected causes'\n                        $(\".availableSubCauseList label\").each( function( ){\n\n                            if( $(this).find(\"input[type=checkbox]\").is(\":checked\") ){\n\n                                var subCauseId = $(this).find(\"input[type=checkbox]\").prop(\"id\").split(\"-\")[3];\n\n                                if( subCauseList == \"\" ){\n                                    subCauseList = \"<span class='org-sub-cause' data-subcause-id='\" + subCauseId + \"'>\" + $(this).find(\".cause-name\").html( ) + \"</span>\";\n                                }else{\n                                    subCauseList += \", \" + \"<span class='org-sub-cause' data-subcause-id='\" + subCauseId + \"'>\" + $(this).find(\".cause-name\").html( ) + \"</span>\";\n                                }\n                            }\n                        });\n\n                        $(\".org-cause[data-org-cause=\" + cause.cause_id + \"]\")\n                        .find(\".sub-cause-list\")\n                        .html( subCauseList );\n\n\n                        $(\".country-list .country-pill\").each(function( ){\n\n                            if( countryList == \"\" ){\n                                countryList = \"<span class='org-cause-country' data-cause-country='\" + $(this).find(\"button\").data(\"country-id\") + \"'>\" + $(this).find(\"button\").data(\"country-name\") + \"</span>\";\n                            }else{\n                                countryList += \"<span class='org-cause-country' data-cause-country='\" + $(this).find(\"button\").data(\"country-id\") + \"'>,\" + $(this).find(\"button\").data(\"country-name\") + \"</span>\";\n                            }\n                        });\n\n                        $(\".org-cause[data-org-cause=\" + cause.cause_id + \"]\")\n                        .find(\".cause-country-list\")\n                        .html( countryList );\n\n                        \n                    }else{\n\n                        var $causeEl = $(\".availableCauseList label\").find( \"input[type=radio]:checked\").parent( );\n\n                        var causeName = $causeEl.find(\".cause-name\").text( );\n                        var causeIcon = $causeEl\n                                        .find(\".cause-icon\")\n                                        .find(\"i\")\n                                        .prop(\"class\")\n                                        .split(\" \")[0];\n\n                        $(\".availableSubCauseList label\").each( function( ){\n\n                            if( $(this).find(\"input[type=checkbox]\").is(\":checked\") ){\n\n                                var subCauseId = $(this).find(\"input[type=checkbox]\").prop(\"id\").split(\"-\")[3];\n\n                                if( subCauseList == \"\" ){\n                                    subCauseList = \"<span class='org-sub-cause' data-subcause-id='\" + subCauseId + \"'>\" + $(this).find(\".cause-name\").html( ) + \"</span>\";\n                                }else{\n                                    subCauseList += \", \" + \"<span class='org-sub-cause' data-subcause-id='\" + subCauseId + \"'>\" + $(this).find(\".cause-name\").html( ) + \"</span>\";\n                                }\n                            }\n                        });\n\n                        $(\".country-list .country-pill\").each(function( ){\n\n                            if( countryList == \"\" ){\n                                countryList = \"<span class='org-cause-country' data-cause-country='\" + $(this).find(\"button\").data(\"country-id\") + \"'>\" + $(this).find(\"button\").data(\"country-name\") + \"</span>\";\n                            }else{\n                                countryList += \"<span class='org-cause-country' data-cause-country='\" + $(this).find(\"button\").data(\"country-id\") + \"'>,\" + $(this).find(\"button\").data(\"country-name\") + \"</span>\";\n                            }\n                        });\n\n                        var newCause = \"<div class='col-lg-3 col-md-3 col-sm-3 org-cause' data-org-cause='\" + cause.cause_id + \"' data-org-cause-id='\" + resp.org_cse_id + \"'>\";\n\n                        newCause += \"<div class='row'>\";\n                        newCause += \"   <div class='col-lg-3 col-md-3 col-sm-3'>\";\n                        newCause += \"       <i class='\" + causeIcon + \" pwi-icon-2em'></i>\";\n                        newCause += \"   </div>\";\n                        newCause += \"   <div class='col-lg-9 col-lg-9 col-sm-9' >\";\n                        newCause += \"       <div class='cause-title' >\" + causeName + \"</div>\";\n                        newCause += \"       <div class='sub-cause-list'>\" + subCauseList + \"</div>\";\n                        newCause += \"       <div class='cause-country-list'>\" + countryList + \"</div>\";\n                            \n                                        \n                        newCause += \"    </div>\"\n                        newCause += \"</div>\";\n                        newCause += \"<div class='hidden cause-remove-button text-center row'>\";\n                        newCause += \"   <div class='col-lg-12 col-md-12 col-sm-12'>\";\n                        newCause += \"       <button type='button' class='btn btn-danger padding-2 margin-top-2' data-toggle='button' aria-pressed='false' autocomplete='off' data-cause-id='\" + cause.cause_id + \"'>Remove Cause</button>\";\n                        newCause += \"   </div>\";\n                        newCause += \"</div>\";\n                        newCause += \" <div class='cause-text' id='org-cause-description'>\" + cause.desc +\"</div>\"\n                        newCause += \"</div>\";\n\n                        $(\".currentCauseList\").append( newCause );\n                    }\n\n                    //clear causes\n                    clearOtherCauses( 0 );\n                    //clear subcauses\n                    clearSubCauses( );\n                    //clear countries\n                    clearCountries( );\n                    //clear textarea\n                    $(\"textarea[name=cause-description-textarea]\").jqteVal( \"\" );\n\n                    cause = {};\n                    subcauses = [];\n                    countries = [];\n                }else{\n\n                }\n            }\n        });\n    });\n\n    $(\"#orgCauseModal\").on(\"hidden.bs.modal\", function( ){\n\n        if( causeChanges ){\n            location.reload( );\n        }else{\n            //clear causes\n            clearOtherCauses( 0 );\n            //clear subcauses\n            clearSubCauses( );\n            //clear countries\n            clearCountries( );\n            //clear textarea\n            $(\"textarea[name=cause-description-textarea]\").jqteVal( \"\" );\n\n            cause       = {};   \n            subcauses   = [];\n            countries   = [];\n        }\n    });\n\n    $(document).on(\"click\", \".remove-country\", function(){\n\n        var countryId = $(this).parent( ).data('country-id');\n        $(this).parent( ).parent( ).remove( );\n\n        for( x in countries ){\n            if( countries[x][\"id\"] == countryId ){\n                countries.splice(x, 1);\n            }\n        }\n\n        if( countries.length == 0 ){\n            $(\".country-list\").hide( );\n        }\n    });\n\n    /** End Cause Modal **/\n\n    /** Begin Contact Info Modal **/\n\n    $(\".save-contact-info\").on(\"click\", function( ){\n\n        var queryString = $(\"form[name=contact-form-update]\").serialize( );\n\n        $.ajax({\n            url: \"/organization/updateContactInfo\",\n            method: \"POST\",\n            data: queryString,\n            dataType: \"json\",\n            beforeSend: function( ){\n                $(\"#contactInfoModal\").find(\".error\").hide( );\n            },\n            success: function( resp ){\n\n                if( resp.status ){\n\n                    var $form = $(\"form[name=contact-form-update]\");\n\n                    var orgWebUrl = $form.find(\"input[name=org_web_url]\").val( );\n\n                    if( orgWebUrl.length > 30 ){\n\n                        $(\"#orgWebUrl\").find(\"a\").html( orgWebUrl.substring( 0, 29 ) + \"...\");\n                    }else{\n                        $(\"#orgWebUrl\").find(\"a\").html( orgWebUrl );\n                    }\n\n                    if( $(\"#orgWebUrl\").parent( ).hasClass('hidden') && orgWebUrl != \"\" ){\n                        $(\"#orgWebUrl\").parent( ).removeClass('hidden');\n                    }else if( ( ! $(\"#orgWebUrl\").parent( ).hasClass('hidden') ) && orgWebUrl == \"\" )  {\n                        $(\"#orgWebUrl\").parent( ).addClass('hidden');\n                    }\n\n                    $(\"#orgPhone\").html( $form.find(\"input[name=org_phone]\").val( ) );\n\n                    if( $(\"#orgPhone\").parent( ).hasClass('hidden') && $form.find(\"input[name=org_phone]\").val( ) != \"\" ){\n                        $(\"#orgPhone\").parent( ).removeClass( 'hidden' );\n                    }else if( ( ! $(\"#orgPhone\").parent( ).hasClass('hidden') ) && $form.find(\"input[name=org_phone]\").val( ) == \"\" ){\n                        $(\"#orgPhone\").parent( ).addClass(\"hidden\");\n                    } \n\n                    $(\"#orgEmail\").html( $form.find(\"input[name=org_email]\").val( ) );\n\n                    var address = $form.find(\"input[name=org_address1]\").val( ) + \"<br >\";\n\n                    if( $form.find(\"input[name=org_address2]\").val( ) != \"\" ){\n                        address += $form.find(\"input[name=org_address2]\").val( ) + \"<br />\";\n                    }\n\n                    address += $form.find(\"input[name=org_city]\").val( ) + \", \" + resp.state + \" \" + $form.find(\"input[name=org_zip]\").val( );\n\n                    $(\"#orgStreetAddress\").html( address );\n\n                    $(\".upload-contactInfo-success\").show( );\n\n                    setTimeout( function( ){\n                        $(\".upload-contactInfo-success\").fadeOut( );\n                    }, 5000);\n                }else{\n\n                    for( var x in resp.errors ){\n                        $(\"#contactInfoModal\").find(\".error-\" + x).html( resp.errors[x] ).show( );\n                    }\n\n                    $(\".upload-contactInfo-error\").show( );\n\n                    setTimeout( function( ){\n                        $(\".upload-contactInfo-error\").fadeOut( );\n                    }, 5000);\n                }\n            }\n        });\n    });\n\n    $(\".contactInfoModal\").on(\"hide.bs.modal\", function( ){\n        $(\".upload-contactInfo-success\").show( );\n        $(\".upload-contactInfo-error\").show( );\n    });\n\n    /** End Contact Info **/\n    /** Photo/Video Upload **/\n\n    var hasChangedMedia = false;\n\n    $(\".droppable-box\").on(\"drag dragstart dragend dragover dragenter dragleave drop\", function( e ){\n        e.preventDefault( );\n        e.stopPropagation( );\n    })\n    .on('drop', function( e ){\n        var droppedFile = e.originalEvent.dataTransfer.files;\n\n        var form_data = new FormData();\n        form_data.append('file', droppedFile[0]);\n        form_data.append('type', 'photo');\n        form_data.append('id', orgId);\n        form_data.append('userId', userId);\n\n        var token = $(document).find(\"input[name=_token]\").val( );\n\n        form_data.append('_token', token);\n        \n        $.ajax({\n            url: \"/organization/uploadimage\",\n            method: \"POST\",\n            data: form_data,\n            contentType: false,\n            cache: false,\n            processData: false,\n            beforeSend: function( ){\n                $(\".upload-photo-info\").fadeIn( );\n                $(\".upload-photo-success\").hide( );\n                $(\".upload-photo-error\").hide( );\n            },\n            success: function( resp ){\n\n                hasChangedMedia = true;\n\n                $(\".upload-photo-info\").fadeOut( );\n                \n                if( resp.status ){\n                    \n                    $(\".upload-photo-success\").fadeIn( );\n\n                    var newElement = \"<div class='box' style='background: url(\" + resp.url + \") top left no-repeat; background-size: cover;'></div>\";\n\n                    $(\".photo_list\").find(\"div:first\").after( newElement );\n\n                    setTimeout( function( ){\n                        $(\".upload-photo-success\").fadeOut( );\n                    }, 3000);\n\n                }else{\n                    \n                    $(\".upload-photo-error\").fadeIn( );\n\n                    setTimeout( function( ){\n                        $(\".upload-photo-error\").fadeOut( );\n                    }, 3000);\n                }\n\n            }\n        });\n    }).on('click', function( e ){\n        $(\"#orgPic\").trigger(\"click\");\n    });\n\n    $(\"#orgPic\").on(\"change\", function( ){\n\n        var file_data = this.files[0];\n        var form_data = new FormData();\n        form_data.append('file', file_data);\n        form_data.append('type', 'photo');\n        form_data.append('id', orgId);\n        form_data.append('userId', userId);\n        \n        var token = $(document).find(\"input[name=_token]\").val( );\n\n        form_data.append('_token', token);\n\n        $.ajax({\n            url: \"/organization/uploadimage\",\n            method: \"POST\",\n            data: form_data,\n            contentType: false,\n            cache: false,\n            processData: false,\n            beforeSend: function( ){\n                $(\".upload-photo-info\").fadeIn( );\n                $(\".upload-photo-success\").hide( );\n                $(\".upload-photo-error\").hide( );\n            },\n            success: function( resp ){\n\n                hasChangedMedia = true;\n\n                $(\".upload-photo-info\").fadeOut( );\n\n                if( resp.status ){\n                    \n                    $(\".upload-photo-success\").fadeIn( );\n\n                    var newElement = \"<div class='box' style='background: url(\" + resp.url + \") top left no-repeat; background-size: cover;'></div>\";\n\n                    $(\".photo_list\").find(\"div:first\").after( newElement );\n\n                    setTimeout( function( ){\n                        $(\".upload-photo-success\").fadeOut( );\n                    }, 3000);\n\n                }else{\n                    \n                    $(\".upload-photo-error\").fadeIn( );\n\n                    setTimeout( function( ){\n                        $(\".upload-photo-error\").fadeOut( );\n                    }, 3000);\n                }\n            },\n            error: function( ){\n                $(\".upload-photo-error\").fadeIn( );\n\n                setTimeout( function( ){\n                    $(\".upload-photo-error\").fadeOut( );\n                }, 3000);\n            }\n        });\n    });\n\n    $(\".save-video\").on(\"click\", function( ){\n\n        $.ajax({\n            url: \"/organization/saveVideo\",\n            method: \"POST\",\n            data: \"videoUrl=\" + $(\"input[name=video_url]\").val( ) + \"&_token=\" + $(document).find(\"input[name=_token]\").val( ) + \"&orgId=\" + orgId,\n            dataType: \"json\",\n            beforeSend: function( ){\n                $(\".upload-video-info\").show( );\n            },\n            success: function( resp ){\n                \n                $(\".upload-video-info\").hide( );\n\n                if( resp.status ){\n\n                    hasChangedMedia = true;\n\n                    $(\".video_list\").prepend(\"<div class='box' style='background: url( \" + resp.img + \" ) top left no-repeat; background-size: cover;'></div>\");\n\n                    $(\".upload-video-success\").find(\".msg\").html(\" Your video has been successfully uploaded.\").fadeIn( );\n\n                    $(\"input[name=video_url]\").val( \"\" );\n\n                    setTimeout( function( ){\n                        $(\".upload-video-success\").fadeOut( );\n                    }, 3000);\n\n                }else{\n\n                    $(\".upload-video-error\").find(\".msg\").append( \"<br />\" + resp.msg );\n                    $(\".upload-photo-error\").fadeIn( );\n\n                    setTimeout( function( ){\n                        $(\".upload-video-error\").find(\".msg\").html( \"There was an error saving your video\" );\n                        $(\".upload-photo-error\").fadeOut( );\n                    }, 5000);\n                }\n            }\n        });\n    });\n\n    $(\".box\").on({\n        mouseenter: function( ){\n            $(this).find(\".overlay\").show( );\n        },\n        mouseleave: function( ){\n            $(this).find(\".overlay\").hide( );\n        }\n    });\n\n    $(\".remove-photo\").on(\"click\", function( ){\n\n        var $parentBox = $(this).parent( ).parent( );\n\n        var fileId = $(this).data('file-id');\n\n        $.ajax({\n            url: \"/organization/removePhoto\",\n            method: \"POST\",\n            data: \"fileId=\" + fileId + \"&orgId=\" + orgId + \"&_token=\" + $(document).find(\"input[name=_token]\").val( ),\n            dataType: \"json\",\n            success: function( resp ){\n\n                if( resp.status ){\n                    hasChangedMedia = true;\n                    $parentBox.remove( );    \n                }else{\n                    $(\".upload-photo-error\").find(\".msg\").html(\"There was an error deleting the photo.\");\n                    $(\".upload-photo-error\").fadeIn( );\n\n                    setTimeout( function( ){\n                        $(\".upload-photo-error\").find(\".msg\").html(\"There was an error uploading your photo.\");\n                        $(\".upload-photo-error\").fadeOut( ) ;\n                    }, 3000);\n                }\n            }\n        });\n    });\n\n    $(document).on(\"click\", \".remove-video\", function( ){\n\n        var $parentBox = $(this).parent( ).parent( );\n\n        var orgVideoId = $(this).data('file-id');\n\n        $.ajax({\n            url: \"/organization/removeVideo\",\n            method: \"POST\",\n            data: \"orgVideoId=\" + orgVideoId + \"&_token=\" + $(document).find(\"input[name=_token]\").val( ),\n            dataType: \"json\",\n            success: function( resp ){\n                if( resp.status ){\n                    hasChangedMedia = true;\n                    $parentBox.remove( );\n                }else{\n                    $(\".upload-video-error\").find(\".msg\").html(\"There was an error deleting the video.\");\n                    $(\".upload-video-error\").fadeIn( );\n\n                    setTimeout( function( ){\n                        $(\".upload-video-error\").find(\".msg\").html(\"There was an error uploading your video.\");\n                        $(\".upload-video-error\").fadeOut( ) ;\n                    }, 3000);\n                }\n            }\n\n\n        });\n    });\n\n    $(\"#mediaModal\").on(\"hide.bs.modal\", function( ){\n\n        if( hasChangedMedia ){\n            location.reload( );    \n        }\n    });\n\n    $(\"#mediaModal\").on(\"show.bs.modal\", function( e ){\n\n        var openerClasses = e.relatedTarget.classList;\n        \n        for( var x in openerClasses ){\n            if( openerClasses[x] == \"open-photos\"){\n                $(\"#mediaModal\").find(\".nav-tabs li:first a\").trigger(\"click\");\n            }else if( openerClasses[x] == \"open-videos\"){\n                $(\"#mediaModal\").find(\".nav-tabs li:last a\").trigger(\"click\");\n            }    \n        }\n    });\n\n    /** End Media Modal **/\n\n    /** Start Crowdfunding Modal **/\n\n    var projectObj          = {};\n    var projectChosenCauses = [];\n    var incentives          = [];\n    var projectUploaded     = false;\n    var nextProjectModal    = \"\";\n    var updates             = [];\n    var editIncentiveId     = \"\";\n    var editUpdateId        = \"\";\n\n    $(\"#crowdFundingModal\").find(\".list-group .edit-project\").on(\"click\", function( ){\n\n        nextProjectModal = \"#editCrowdFundingProjectModal_\" + $(this).parent( ).data(\"project-id\")\n\n        $(\"#crowdFundingModal\").modal(\"hide\");\n    });\n\n    $(\"#crowdFundingModal\").find(\".add-new-project\").on(\"click\", function( ){\n\n        nextProjectModal = \"#addCrowdFundingProjectModal\";\n\n        $(\"#crowdFundingModal\").modal(\"hide\");\n    });\n\n    $(\"#crowdFundingModal\").on(\"hidden.bs.modal\", function( ){\n\n        if( nextProjectModal != \"\" ){\n            $(nextProjectModal).modal(\"show\");        \n            nextProjectModal = \"\";\n        }\n    });\n\n    $(\"#crowdFundingModal\").find(\".remove-project\").on('click', function( ){\n\n        var projectId = $(this).parent( ).data('project-id');\n\n        var _token = $(document).find(\"input[name=_token]\").val( );\n\n        $.ajax({\n            url: \"/organization/deleteProject\",\n            method: \"POST\",\n            data: \"id=\" + projectId + \"&orgId=\" + orgId + \"&_token=\" + _token,\n            dataType: \"json\",\n            success: function( resp ){\n\n                if( resp.status ){\n                    projectUploaded = true;\n                    $(\"#crowdFundingModal\").find(\"li[data-project-id=\" + projectId + \"]\").remove( );\n                }\n            }\n        });\n    });\n\n    $(\".edit-crowdfunding-modal\").on(\"show.bs.modal\", function( ){\n\n        var $thisModal = $(this);\n\n        projectObj          = {};\n        projectChosenCauses = [];\n        incentives          = [];\n        updates             = []; \n\n        editIncentiveId = \"\";\n\n        if( $thisModal.find(\".incentive-list\").children( ).length > 0 ){\n\n            $thisModal.find(\".incentive-list li\").each( function( i ){\n                var newIncentive = {};\n\n                newIncentive.needShipping   = 0;\n                newIncentive.id             = $(this).find(\"input[name=incentiveId]\").val( ); \n                $(this).find(\"input[name=incentiveId]\").remove( );\n                newIncentive.name           = $(this).find(\"input[name=incentiveName]\").val( );\n                $(this).find(\"input[name=incentiveName]\").remove( );\n                newIncentive.amount         = $(this).find(\"input[name=incentiveAmt]\").val( );\n                $(this).find(\"input[name=incentiveAmt]\").remove( );\n                newIncentive.available      = $(this).find(\"input[name=incentiveCnt]\").val( );\n                $(this).find(\"input[name=incentiveCnt]\").remove( );\n                newIncentive.desc           = $(this).find(\".incentive-desc\").html( );\n                $(this).find(\".incentive-desc\").remove( );\n\n                if( $(this).find(\"input[name=incentiveShip]\").val( ) == \"Y\" ){\n                    newIncentive.needShipping = 1;\n                }\n\n                incentives.push( newIncentive );\n            });\n        }\n\n        editUpdateId = \"\";\n\n        if( $thisModal.find(\".project-updates-list\").children( ).length > 0 ){\n\n            $thisModal.find(\".project-updates-list li\").each( function( i ){\n\n                var newUpdate = {};\n\n                newUpdate.id    = $(this).find(\"input[name=updateId]\").val( );\n                $(this).find(\"input[name=updateId]\").remove( );\n                newUpdate.title = $(this).find(\"input[name=updateTitle]\").val( );\n                $(this).find(\"input[name=updateTitle]\").remove( );\n                newUpdate.desc  = $(this).find(\".update-desc\").html( );\n                $(this).find(\".update-desc\").remove( );\n\n                updates.push( newUpdate );\n            });\n        }\n\n        $thisModal.find(\".project-org-cause .row\").each( function( i ){\n            if( $(this).hasClass('chosen_project_cause') ){\n                projectChosenCauses.push( $(this).parent( ).data(\"org-cause-id\") );\n            }\n        });  \n    });\n\n    $(\".new-crowdfunding-modal\").on('show.bs.modal', function( ){\n\n        projectObj          = {};\n        projectChosenCauses = [];\n        incentives          = [];\n        updates             = []; \n\n    });\n\n    $(\".project-header-upload\").on(\"click\", function( ){\n        \n        var $parentModal = $( $(this).data('parent-modal') );\n        $parentModal.find(\"input[name=header_photo]\").trigger(\"click\");\n    });\n\n    $(\".project-thumbnail-upload\").on(\"click\", function( ){\n\n        var $parentModal = $( $(this).data('parent-modal') );\n        $parentModal.find(\"input[name=thumbnail_photo]\").trigger(\"click\");\n    });\n\n    $(\".viewVideo\").on(\"click\", function( e ){\n\n        e.preventDefault( );\n        e.stopPropagation( );\n\n        if( $(this).data(\"status\") == \"off\" ){\n            $(this).parent( ).find(\".videoContainer\").removeClass(\"hidden\");\n            $(this).data(\"status\", \"on\");    \n            $(this).html(\"Hide Video\");\n        }else{\n            $(this).parent( ).find(\".videoContainer\").addClass(\"hidden\");\n            $(this).data(\"status\", \"off\");\n            $(this).html(\"View Video\");\n        }\n    });\n\n    $(\"input[name=header_photo]\").on(\"change\", function( e ){\n\n        var file_data = this.files[0];\n\n        projectObj.header = file_data;\n\n        var fileName = file_data.name;\n        var fileSize = file_data.size.parseFileSize( );\n\n        $(this).parent( ).find(\".project_header_holder\").hide( );\n\n        $(\".project_header_info\").find(\".file_name\").html( fileName );\n        $(\".project_header_info\").find(\".file_size\").html( fileSize );\n    });\n\n    $(\"input[name=thumbnail_photo]\").on(\"change\", function( e ){\n\n        var file_data = this.files[0];\n\n        projectObj.thumbnail = file_data;\n\n        var fileName = file_data.name;\n        var fileSize = file_data.size.parseFileSize( );\n\n        $(this).parent( ).find(\".project_thumbnail_holder\").hide( );\n\n        $(\".project_thumbnail_info\").find(\".file_name\").html( fileName );\n        $(\".project_thumbnail_info\").find(\".file_size\").html( fileSize );\n\n    });\n\n    $(\".project-org-cause\").on(\"click\", function( e ){\n\n        if( projectChosenCauses.indexOf( $(this).data(\"org-cause-id\") ) == -1 ){\n            projectChosenCauses.push( $(this).data(\"org-cause-id\") );\n            $(this).find(\".row\").addClass(\"chosen_project_cause\");\n        }else{\n            for( var x in projectChosenCauses ){\n\n                if( projectChosenCauses[x] == $(this).data(\"org-cause-id\") ){\n                    projectChosenCauses.splice( x, 1 );    \n                }\n            }\n            $(this).find(\".row\").removeClass(\"chosen_project_cause\");\n        }\n    });\n\n    $(document).on(\"click\", \".edit-update\", function( ){\n\n        editUpdateId = $(this).parent( ).data(\"update-id\").split(\"_\")[1];\n\n        projectId = $(this).parent( ).data('project-id');\n\n        var $modal = $(\"#editCrowdFundingProjectModal_\" + projectId );\n\n        for( var x in updates ){\n\n            if( updates[x].id == editUpdateId ){\n                $modal.find(\"input[name=update-title]\").val( updates[x].title );\n                $modal.find(\"textarea[name=update-desc]\").jqteVal( updates[x].desc );\n            }\n        }\n    });\n\n    $(document).on(\"click\", \".remove-update\", function( ){\n\n        var updateId = $(this).parent( ).data(\"update-id\").split(\"_\")[1];\n\n        for( var x in updates ){\n            if( updates[x].id == updateId ){\n                updates.splice(x, 1);\n\n                $(this).parent( ).remove( );\n            }\n        }\n    });\n\n    $(\".clear-update\").on(\"click\", function( ){\n\n        var $container = $(this).parent( );\n\n        clearUpdateForm( $container );\n\n        if( editUpdateId != \"\" ){\n            editUpdateId = \"\";\n        }\n    });\n\n    $(\".add-update\").on(\"click\", function( ){\n        \n        var newUpdate = {};\n        $(\"#addCFP_UpdatesTab\").find(\".error\").html( \"\" ).hide( );\n        $(\"#editCFP_UpdatesTab\").find(\".error\").html( \"\" ).hide( );\n\n        var $container = $(this).parent( );\n\n        var newId = new Date( ).valueOf( );\n        var errors = [];\n\n        newUpdate.id    = \"update\" + newId;\n        newUpdate.title = $container.find(\"input[name=update-title]\").val( );\n        newUpdate.desc  = $container.find(\"textarea[name=update-desc]\").val( );\n        \n        if( newUpdate.title == \"\" ){\n            errors.push( {field: \"update-title\", error: \"Please Enter an Updated Title\"} );\n        }\n\n        if( newUpdate.desc == \"\" ){\n            errors.push( {field: \"update-desc\", error: \"Please Enter an Update\"} );\n        }\n\n        if( errors.length == 0 ){\n\n            if( editUpdateId == \"\" ){\n                updates.push( newUpdate );\n\n                var newListItem = \"<li class='list-group-item' data-incentive-id='update_\" + newUpdate.id + \"'>\";\n                    newListItem +=    \" <span class='badge remove-update'>\";\n                    newListItem +=    \"     <span class='glyphicon glyphicon-remove' aria-hidden='true'></span>\";\n                    newListItem +=    \" </span>\";\n                    newListItem +=    \" <span class='badge edit-update'>\";\n                    newListItem +=    \"     <span class='glyphicon glyphicon-pencil' aria-hidden='true'></span>\";\n                    newListItem +=    \" </span>\";\n                    newListItem +=    \" <small>Just Now</small>\";\n                    newListItem +=    \" &nbsp;\";\n                    newListItem +=    \" <span class='update-list-title'>\" + newUpdate.title + \"</span>\";\n                    newListItem +=    \"</li>\";\n                \n                if( $container.find(\".project-updates-list\").children( ).length > 0 ){\n                    \n                    $container\n                    .find(\".project-updates-list\")\n                    .find(\"ul\")\n                    .append( newListItem );\n\n                }else{\n                    \n                    $container\n                    .find(\".project-updates-list\")\n                    .append( \"<ul class='list-group'>\" + newListItem + \"</ul>\");\n                }\n\n                newIncentive = {};\n                clearUpdateForm( $container );\n            }else{\n\n                for( var x in updates ){\n\n                    if( updates[x].id == editUpdateId ){\n                        updates[x].title    = newUpdate.title;\n                        updates[x].desc     = newUpdate.desc;\n                    }\n                }\n\n                $container.find(\"li[data-update-id=update_\" + editUpdateId + \"]\").find(\".update-list-title\").html( newUpdate.title);\n                $container.find(\"li[data-update-id=update_\" + editUpdateId + \"]\").find(\"small\").html( \"Just Now \");\n\n                editUpdateId = \"\";\n                newUpdate = {};\n                clearUpdateForm( $container );   \n            }\n        }else{\n            for( var x in errors ){\n                $container.find(\".\" + errors[x].field + \"_error\").html( errors[x].error ).show( );\n                newIncentive = {};\n            }\n        }\n\n    });\n\n    $(document).on(\"click\", \".edit-incentive\", function( ){\n\n        editIncentiveId = $(this).parent( ).data(\"incentive-id\").split(\"_\")[1];\n\n        projectId = $(this).parent( ).data('project-id');\n\n        var $modal = $(\"#editCrowdFundingProjectModal_\" + projectId );\n\n        for( var x in incentives ){\n\n            if( incentives[x].id == editIncentiveId ){\n                $modal.find(\"input[name=incentive-name]\").val( incentives[x].name );\n                $modal.find(\"input[name=incentive-donation-amount]\").val( incentives[x].amount );        \n                $modal.find(\"input[name=incentive-number-available]\").val( incentives[x].available );\n                $modal.find(\"textarea[name=incentive-description]\").jqteVal( incentives[x].desc );\n\n                if( incentives[x].needShipping == 1 ){\n                    $modal.find(\"input[name=incentive-has-shipping]\").prop(\"checked\", true);\n                }\n            }\n        }\n    });\n\n    $(document).on(\"click\", \".remove-incentive\", function( ){\n\n        var incentiveId = $(this).parent( ).data(\"incentive-id\").split(\"_\")[1];\n\n        for( var x in incentives ){\n            if( incentives[x].id == incentiveId ){\n                incentives.splice(x, 1);\n\n                $(this).parent( ).remove( );\n            }\n        }\n    });\n\n    $(\".clear-incentive\").on(\"click\", function( ){\n\n        var $container = $(this).parent( );\n\n        clearIncentiveForm( $container );\n\n        if( editIncentiveId != \"\" ){\n            editIncentiveId = \"\";\n        }\n    });\n\n    $(\".add-incentive\").on(\"click\", function( ){\n\n        var $container = $(this).parent( );\n\n        var newIncentive = {};\n        $(\"#addCFP_IncentivesTab\").find(\".error\").html( \"\" ).hide( );\n        $(\"#editCFP_IncentivesTab\").find(\".error\").html( \"\" ).hide( );\n\n        var newId = new Date( ).valueOf( );\n\n        newIncentive.needShipping   = 0;\n        newIncentive.id             = \"incentive\" + newId;\n        newIncentive.name           = $container.find(\"input[name=incentive-name]\").val( );\n        newIncentive.amount         = $container.find(\"input[name=incentive-donation-amount]\").val( );\n        newIncentive.available      = $container.find(\"input[name=incentive-number-available]\").val( );\n        newIncentive.desc           = $container.find(\"textarea[name=incentive-description]\").val( );\n\n        if( $container.find(\"input[name=incentive-has-shipping]\").is(\":checked\") ){\n            newIncentive.needShipping = 1;\n        }\n        var errors = [];\n        \n        if( newIncentive.name == \"\" ){\n            errors.push( {field: \"incentive-name\", error: \"Please Enter an Incentive Name\"} );\n        }\n\n        if( newIncentive.amount == \"\" ){\n            errors.push( {field: \"incentive-donation-amount\", error: \"Please Enter an Incentive Amount\"} );   \n        }else if( isNaN( newIncentive.amount ) ){\n            errors.push( {field: \"incentive-donation-amount\", error: \"Incentive Amount must be a Number.\"} );   \n        }\n\n        if( newIncentive.available != \"\" ){\n            if( isNaN( newIncentive.available ) ){\n                errors.push( {field: \"incentive-number-available\", error: \"Incentive Number must be a Number.\"} );         \n            }\n        }\n\n        if( errors.length == 0 ){\n\n            if( editIncentiveId == \"\" ){\n                incentives.push( newIncentive );\n\n                var newListItem = \"<li class='list-group-item' data-incentive-id='incentive_\" + newIncentive.id + \"'>\";\n                    newListItem +=    \" <span class='badge remove-incentive'>\";\n                    newListItem +=    \"     <span class='glyphicon glyphicon-remove' aria-hidden='true'></span>\";\n                    newListItem +=    \" </span>\";\n                    newListItem +=    \" <span class='badge edit-incentive'>\";\n                    newListItem +=    \"     <span class='glyphicon glyphicon-pencil' aria-hidden='true'></span>\";\n                    newListItem +=    \" </span>\";\n                    newListItem +=    \"<span class='incentive-list-name'>\" + newIncentive.name + \"</span>\";\n                    newListItem +=    \"</li>\";\n                \n                if( $container.find(\".incentive-list\").children( ).length > 0 ){\n                    \n                    $container\n                    .find(\".incentive-list\")\n                    .find(\"ul\")\n                    .append( newListItem );\n\n                }else{\n                    \n                    $container\n                    .find(\".incentive-list\")\n                    .append( \"<ul class='list-group'>\" + newListItem + \"</ul>\");\n                }\n\n                newIncentive = {};\n                clearIncentiveForm( $container );\n            }else{\n\n                for( var x in incentives ){\n\n                    if( incentives[x].id == editIncentiveId ){\n\n                        incentives[x].name           = newIncentive.name;\n                        incentives[x].amount         = newIncentive.amount;\n                        incentives[x].available      = newIncentive.available;\n                        incentives[x].desc           = newIncentive.desc;\n                        incentives[x].needShipping   = newIncentive.needShipping;\n                    }\n                }\n\n                $container.find(\"li[data-incentive-id=incentive_\" + editIncentiveId + \"]\").find(\".incentive-list-name\").html( newIncentive.name);\n\n                editIncentiveId = \"\";\n                newIncentive = {};\n                clearIncentiveForm( $container );   \n            }\n        }else{\n            for( var x in errors ){\n                $container.find(\".\" + errors[x].field + \"_error\").html( errors[x].error ).show( );\n                newIncentive = {};\n            }\n        }\n    });\n\n    $(\".update-project\").on(\"click\", function( ){\n        var $button = $(this);\n\n        var $page = $(\"#editCrowdFundingProjectModal_\" + $(this).data('project-id') );\n\n        var end_date = $page.find(\"input[name=project_end_date_month]\").val( ) + $page.find(\"input[name=project_end_date_day]\").val( ) + $page.find(\"input[name=project_end_date_year]\").val( );\n\n        var form_data = new FormData();\n\n        if( typeof projectObj.thumbnail !== \"undefined\") {\n            form_data.append('thumbnail',   projectObj.thumbnail );\n        }\n\n        if( typeof projectObj.header !== \"undefined\") {\n            form_data.append('header',   projectObj.header );\n        }\n        form_data.append('id',          $(this).data('project-id') );\n        form_data.append('name',        $page.find(\"input[name=project_name]\").val( ) );\n        form_data.append('goal',        $page.find(\"input[name=project_goal]\").val( ) );\n        form_data.append('day',         $page.find(\"input[name=project_end_date_day]\").val( ) );\n        form_data.append('month',       $page.find(\"input[name=project_end_date_month]\").val( ) );\n        form_data.append('year',        $page.find(\"input[name=project_end_date_year]\").val( ) );\n        form_data.append('end_date',    end_date);\n        form_data.append('story',       $page.find(\"textarea[name=project_story]\").val( ) );\n        form_data.append('video',       $page.find(\"input[name=project_video_url]\").val( ) );\n\n        for( var x in projectChosenCauses ){\n            form_data.append('projectCause[]', projectChosenCauses[x] );\n        }\n\n        for( var x in incentives ){\n            form_data.append('projectIncentiveName[]',      incentives[x].name );\n            form_data.append('projectIncentiveAmt[]',       incentives[x].amount );\n            form_data.append('projectIncentiveNumber[]',    incentives[x].available );\n            form_data.append('projectIncentiveDesc[]',      incentives[x].desc );\n            form_data.append('projectIncentiveShipping[]',  incentives[x].needShipping );\n            form_data.append('projectIncentiveId[]',        incentives[x].id);\n        }\n\n        for( var x in updates ){\n            form_data.append('projectUpdateId[]',   updates[x].id );\n            form_data.append('projectUpdateTitle[]',updates[x].title)\n            form_data.append('projectUpdate[]',     updates[x].desc);\n        }\n\n        form_data.append('_token', $(document).find(\"input[name=_token]\").val( ) );\n\n        form_data.append('orgId', orgId );\n        form_data.append('userId', userId);\n\n        $.ajax({\n            url: \"/organization/updateProject\",\n            method: \"POST\",\n            data: form_data,\n            dataType: \"json\",\n            contentType: false,\n            cache: false,\n            processData: false,\n            beforeSend: function( ){\n\n                $(\"#editCrowdFundingProjectModal\").find(\".error\").hide( );\n\n                $button\n                //.prop(\"disabled\",true);\n                .removeClass(\"btn-primary\")\n                .addClass(\"btn-info\")\n                .html(\"Saving Project...\");\n            },\n            success: function( resp ){\n\n                projectUploaded = true;\n                \n                if( resp.status ){\n                    \n                    $button\n                    .removeClass(\"btn-info\")\n                    .addClass(\"btn-success\")\n                    .html(\"Project Successfully Saved\");      \n\n                    setTimeout(function( ){\n                        $button\n                        .prop(\"disabled\",false)\n                        .removeClass(\"btn-success\")\n                        .addClass(\"btn-primary\")\n                        .html(\"Update Project\");      \n                    }, 3000);\n                }else{\n\n                    $button\n                    .removeClass(\"btn-info\")\n                    .addClass(\"btn-danger\")\n                    .html(\"Please See Errors\");   \n\n                    setTimeout(function( ){\n                        $button\n                        .prop(\"disabled\",false)\n                        .removeClass(\"btn-danger\")\n                        .addClass(\"btn-primary\")\n                        .html(\"Update Project\");      \n                    }, 3000);\n\n                    for( var x in resp.errors ){\n                        $(\"#editCrowdFundingProjectModal\").find(\".\" + x + \"-error\").html( resp.errors[x] ).show( );\n                    }\n                }\n                \n            }\n        });\n    });\n\n    $(\".save-new-project\").on(\"click\", function( ){\n\n        var $button = $(this);\n\n        var $page = $(\"#addCrowdFundingProjectModal\");\n\n        var end_date = $page.find(\"input[name=project_end_date_month]\").val( ) + $page.find(\"input[name=project_end_date_day]\").val( ) + $page.find(\"input[name=project_end_date_year]\").val( );\n        \n        var form_data = new FormData();\n\n        if( typeof projectObj.thumbnail !== \"undefined\") {\n            form_data.append('thumbnail',   projectObj.thumbnail );\n        }\n\n        if( typeof projectObj.header !== \"undefined\") {\n            form_data.append('header',   projectObj.header );\n        }\n        \n        form_data.append('name',        $page.find(\"input[name=project_name]\").val( ) );\n        form_data.append('goal',        $page.find(\"input[name=project_goal]\").val( ) );\n        form_data.append('day',         $page.find(\"input[name=project_end_date_day]\").val( ) );\n        form_data.append('month',       $page.find(\"input[name=project_end_date_month]\").val( ) );\n        form_data.append('year',        $page.find(\"input[name=project_end_date_year]\").val( ) );\n        form_data.append('end_date',    end_date);\n        form_data.append('story',       $page.find(\"textarea[name=project_story]\").val( ) );\n        form_data.append('video',       $page.find(\"input[name=project_video_url]\").val( ) );\n\n        for( var x in projectChosenCauses ){\n            form_data.append('projectCause[]', projectChosenCauses[x] );\n        }\n\n        for( var x in incentives ){\n            form_data.append('projectIncentiveName[]',      incentives[x].name );\n            form_data.append('projectIncentiveAmt[]',       incentives[x].amount );\n            form_data.append('projectIncentiveNumber[]',    incentives[x].available );\n            form_data.append('projectIncentiveDesc[]',      incentives[x].desc );\n            form_data.append('projectIncentiveShipping[]',  incentives[x].needShipping );\n        }\n\n        form_data.append('_token', $(document).find(\"input[name=_token]\").val( ) );\n\n        form_data.append('orgId', orgId );\n        form_data.append('userId', userId);\n\n        $.ajax({\n            url: \"/organization/addProject\",\n            method: \"POST\",\n            data: form_data,\n            dataType: \"json\",\n            contentType: false,\n            cache: false,\n            processData: false,\n            beforeSend: function( ){\n\n                $(\"#addCrowdFundingProjectModal\").find(\".error\").hide( );\n\n                $button\n                //.prop(\"disabled\",true);\n                .removeClass(\"btn-primary\")\n                .addClass(\"btn-info\")\n                .html(\"Saving Project...\");\n            },\n            success: function( resp ){\n\n                projectUploaded = true;\n                \n                if( resp.status ){\n\n                    $(\"input[name=project_name]\").val(\"\");\n                    $(\"input[name=project_goal]\").val(\"\");\n                    $(\"input[name=project_end_date_day]\").val(\"\");\n                    $(\"input[name=project_end_date_month]\").val(\"\");\n                    $(\"input[name=project_end_date_year]\").val(\"\");\n                    $(\"textarea[name=project_story]\").jqteVal(\"\");\n                    $(\"input[name=project_video_url]\").val(\"\");\n                    $(\".incentive-list\").html( \"\" );\n\n                    $(\".project-org-cause\").find(\".row\").removeClass('chosen_project_cause');\n\n                    $incentives = {};\n                    projectChosenCauses = [];\n\n                    $button\n                    .removeClass(\"btn-info\")\n                    .addClass(\"btn-success\")\n                    .html(\"Project Successfully Saved\");      \n\n                    setTimeout(function( ){\n                        $button\n                        .prop(\"disabled\",false)\n                        .removeClass(\"btn-success\")\n                        .addClass(\"btn-primary\")\n                        .html(\"Save New Project\");      \n                    }, 3000);\n                }else{\n\n                    $button\n                    .removeClass(\"btn-info\")\n                    .addClass(\"btn-danger\")\n                    .html(\"Please See Errors\");   \n\n                    setTimeout(function( ){\n                        $button\n                        .prop(\"disabled\",false)\n                        .removeClass(\"btn-danger\")\n                        .addClass(\"btn-primary\")\n                        .html(\"Save New Project\");      \n                    }, 3000);\n\n                    for( var x in resp.errors ){\n                        $(\"#addCrowdFundingProjectModal\").find(\".\" + x + \"-error\").html( resp.errors[x] ).show( );\n                    }\n                }\n\n            }\n        });\n    });\n\n\n    $(\".admin-crowdfunding-modal\").on(\"hide.bs.modal\", function( ){\n        if( projectUploaded ){\n            location.reload( );\n        }\n    });\n\n    /** End Project Modal **/\n\n    /** Social Media Modal **/\n\n    $socialMediaUpdated = false;\n\n    $(\".save-social-media\").on(\"click\", function( ){\n\n        var $button = $(this);\n\n        var $smMediaModal = $(\"#socialMediaModal\");\n\n        var twitter     = $smMediaModal.find(\"input[name=twitter-handle]\").val( );\n        var facebook    = $smMediaModal.find(\"input[name=facebook-handle]\").val( );\n        var instagram   = $smMediaModal.find(\"input[name=instagram-handle]\").val( );\n        var pinterest   = $smMediaModal.find(\"input[name=pinterest-handle]\").val( );\n\n        $.ajax({\n            url: \"/organization/saveSocialMedia\",\n            method: \"POST\",\n            data: \"twitter=\" + twitter + \"&facebook=\" + facebook + \"&instagram=\" + instagram + \"&pinterest=\" + pinterest + \"&orgId=\" + orgId + \"&_token=\" + $(document).find(\"input[name=_token]\").val( ),\n            dataType: \"json\",\n            beforeSend: function( ){\n                $button\n                .removeClass('btn-primary')\n                .addClass('btn-info')\n                .html( 'Saving Social Media' );\n            },\n            success: function( resp ){\n\n                $socialMediaUpdated = true;\n\n                $button\n                .removeClass(\"btn-info\")\n                .addClass(\"btn-success\")\n                .html(\"Social Media Saved\");      \n\n                setTimeout(function( ){\n                    $button\n                    .prop(\"disabled\",false)\n                    .removeClass(\"btn-success\")\n                    .addClass(\"btn-primary\")\n                    .html(\"Save Changes\");      \n                }, 3000);\n            }\n        });\n    });\n\n    $(\"#socialMediaModal\").on(\"hidden.bs.modal\", function( ){\n\n        if( $socialMediaUpdated ){\n            location.reload( );\n        }\n    });\n\n    /** End Social Media Modal **/\n\n\n    /** Start Product Modal **/\n\t\n\t\n\t/** Set up newProductObj **/\n    var newProductObj = {};\n    var productChange = false;\n    var openedProductModal = \"\";\n    var nextProductModal   = \"\";\n    newProductObj.orgId     = orgId;\n    newProductObj.userId    = userId;\n\n    $(\"#productAdminModal\").find(\".list-group-item .edit-product\").on(\"click\", function( ){\n        alert('hi event');\n        nextProductModal = \"#productAdminModal_\" + $(this).parent( ).data(\"product-id\")\n        alert( nextProductModal );\n        $(\"#productAdminModal\").modal(\"hide\");\n    });\n\n    $(\"#productAdminModal\").on(\"hidden.bs.modal\", function( ){\n\n        if( nextProductModal != \"\" ){\n            $(nextProductModal).modal(\"show\");        \n            nextProductModal = \"\";\n        }\n    });\n\n    $(\".admin-product-modal\").on(\"show.bs.modal\", function( ){\n        openedProductModal = $(this).prop(\"id\");\n    });\n\n\t/** Initialize Current step  **/\t\n    var newProductStep = 1;\n\t\n\t/** Event for upload image to trigger file dialog **/\n    $(\".upload-photo-image\").on(\"click\", function( ){\n        $(\"#productPic\").trigger(\"click\");\n    });\n\t\n\t/** Event for triggering change on file object **/\n    $(\"#productPic\").on(\"change\", function( ){\n\t\t\n\t\t/** Check if the newProductObj has a photos key **/\n        if( typeof newProductObj.photos === \"undefined\" ){\n\t        /** Create photos **/\n            newProductObj.photos = [];\n        }\n\t\t\n\t\t/**  Push file object to photos array **/\n        newProductObj.photos.push( this.files[0] );\n\t\t\n\t\t/** Display current photo uploaded **/\n        $(\".product_photo_list\").prepend(\"<div class='product_photo_item' data-product-image-line=\" + (newProductObj.photos.length - 1) + \">\" + this.files[0].name + \" ( \" + this.files[0].size.parseFileSize( ) + \")\" + \"<span class='glyphicon glyphicon-remove-circle pull-right' aria-hidden='true'></span>\");\n\n    });/** End #productPic.on.change **/\n    \n    $(\".next-step\").on(\"click\", function( ){\n\t    \n\t    var thisStep = $(this).data('product-next-step');\n\n        switch( newProductStep ){\n\t\t\tcase 1:\n\t\t\t\tif(\tprocessNewProductStepOne( ) ){\n\t\t\t\t\tgoToProductStep( (newProductStep + 1), newProductStep, \"Inventory\", \"Information\", \"Modifiers\");\n\t\t\t\t\tnewProductStep++;\n\t\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif( processNewProductStepTwo( ) ){\n\t\t\t\t\tgoToProductStep( (newProductStep + 1), newProductStep, \"Shipping\", \"Modifiers\", \"Inventory\" );\n\t\t\t\t\tnewProductStep++;\n\t\t\t\t\tsetUpInventory( );\n\t\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif( processNewProductStepThree( ) ){\n\t\t\t\t\tgoToProductStep( (newProductStep + 1), newProductStep, \"Causes/Impacts\", \"Inventory\", \"Shipping\" );\n\t\t\t\t\tnewProductStep++;\n\t\t\t\t\tsetUpShippingForModifiers( );\n\t\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif( processNewProductStepFour( ) ){\n\t\t\t\t\tgoToProductStep( (newProductStep + 1), newProductStep, \"Submit Product\", \"Shipping\", \"Causes/Impacts\");\n\t\t\t\t\tnewProductStep++;\n\t\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 5:\n                var form_data = new FormData( );\n                \n                //info\n                form_data.append(\"_token\", $(document).find(\"input[name=_token]\").val( ) );\n\n                for( var x in newProductObj ){\n                    if( typeof newProductObj[x] !== \"array\" && typeof newProductObj[x] !== \"object\" ){\n                        form_data.append(x, newProductObj[x]);\n                    }\n                }\n                \n                //photos\n                for( var x in newProductObj.photos ){\n                    form_data.append(\"photos[]\", newProductObj.photos[x] );\n                }\n                //causes\n                for( var x in newProductObj.causes ){\n                    form_data.append(\"orgCause[]\", newProductObj.causes[x].orgCause );\n                    form_data.append(\"orgCauseId[]\", newProductObj.causes[x].orgCauseId );\n                }\n\n                //modifiers\n                for( var x in newProductObj.modifiers ){\n                    form_data.append(\"modifierId[]\", newProductObj.modifiers[x].id );\n                    form_data.append(\"modifierTitle[]\", newProductObj.modifiers[x].title);\n\n                    for( var i in newProductObj.modifiers[x].items ){\n                        form_data.append(\"modifier_\" + x + \"_item_id[]\", newProductObj.modifiers[x].items[i].id );\n                        form_data.append(\"modifier_\" + x + \"_item_title[]\", newProductObj.modifiers[x].items[i].modifierTitle );\n                    }\n                }\n\n                //modifierInventory\n                for( var x in newProductObj.modifierInventory ){\n                    form_data.append(\"modifierInventoryHeight[]\",        newProductObj.modifierInventory[x].height );\n                    form_data.append(\"modifierInventoryIdList[]\",        newProductObj.modifierInventory[x].idList );\n                    form_data.append(\"modifierInventoryLength[]\",        newProductObj.modifierInventory[x].length );\n                    form_data.append(\"modifierInventoryPriceDiff[]\",     newProductObj.modifierInventory[x].priceDiff);\n                    form_data.append(\"modifierInventoryQuantity[]\",      newProductObj.modifierInventory[x].quantity);\n                    form_data.append(\"modifierInventoryShippingTime[]\",  newProductObj.modifierInventory[x].shippingTime);\n                    form_data.append(\"modifierInventoryShippingFee[]\",   newProductObj.modifierInventory[x].shippingFee);\n                    form_data.append(\"modifierInventoryWeight[]\",        newProductObj.modifierInventory[x].weight );\n                    form_data.append(\"modifierInventoryWidth[]\",         newProductObj.modifierInventory[x].width);\n                }\n\n                //shipping Methods\n                for( var x in newProductObj.shippingMethods ){\n                    form_data.append(\"shippingMethod[]\", newProductObj.shippingMethods[x] );\n                }\n\n                //Submit Product\n                $.ajax({\n                    url: \"/organization/addProduct\",\n                    method: \"POST\",\n                    data: form_data,\n                    dataType: \"json\",\n                    beforeSend: function( ){\n                        /** disable buttons */\n                        $(\".new-product-actions\").find(\"button\").prop(\"disabled\", true);\n                        \n                        /** change right button to say the 'Adding Product...' */\n                        $(\".new-product-actions\").find(\".next-step\").html(\"Adding Product...\");\n\n                        $(\".new-product-status\").find(\"div\").addClass('hidden');\n                    },\n                    contentType: false,\n                    cache: false,\n                    processData: false,\n                    success: function( resp ){\n\n                        /** check if resp.status is TRUE */\n                        if( resp.status ){\n                            $(\".new-product-status\").find(\".bg-success\").removeClass('hidden');\n                            setTimeout(function() {\n                                location.reload( );\n                            }, 5000);\n                        }else{\n                            $(\".new-product-status\").find(\".bg-success\").removeClass('hidden');\n                        }\n                    }\n                });\n            break;\n\t\t}\n\t});\n\n    $(\".prev-step\").on(\"click\", function( ){\n\n       switch( newProductStep ){\n\t\t\tcase 2:\n\t\t\t\tgoToProductStep( 1, newProductStep, \"Modifiers\", \"\", \"\");\n                newProductStep = 1;\n\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tgoToProductStep( 2, newProductStep, \"Inventory\", \"Information\", \"\" );\n\t\t\t\tnewProductStep = 2;\n\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tgoToProductStep( 3, newProductStep, \"Shipping\", \"Modifiers\", \"\" );\n                newProductStep = 3;\n\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tgoToProductStep( 4, newProductStep, \"Causes/Impacts\", \"Inventory\", \"\");\n\t\t\t\tnewProductStep = 4;\n\t\t\tbreak;\n\t\t}\n    });\n\t\n\t$(\".add-modifier\").on(\"click\", function( ){\n\t\t\n\t\tvar modifierId = 0;\n\t\t/*\n\t\tif( typeof newProductObj.modifiers !== \"undefined\" ){\n\t\t\tmodifierId = newProductObj.modifiers[( newProductObj.modifiers.length - 1)].id + 1\n\t\t}\n        */\n        $(\".new-product-modifier-list .modifier\").each( function( ){\n            modifierId = parseInt( $(this).data(\"modifier-id\") ) + 1;\n        });\n\t\t\n\t\tvar modifier = \t\"<div class='modifier modifier-\" + modifierId + \" input-group' data-modifier-id='\" + modifierId + \"'>\";\n\t\tmodifier += \t\"\t<label for='modifier-title-\" + modifierId + \"'>Title of Modifier</label>\";\n\t\tmodifier += \t\"\t<input type='text' name='modifier-title-\" + modifierId +\"' class='form-control' />\";\n\t\tmodifier += \t\" \t<div class='modifier-container-list-\" + modifierId + \" margin-top-10 margin-bottom-10'>\";\n\t\tmodifier +=\t\t\"\t\t<div class='row'>\";\n\t\tmodifier +=\t\t\"\t\t\t<div class='col-lg-12'>\";\n\t\tmodifier +=\t\t\"\t\t\t\t<div class='input-group margin-bottom-10 margin-top-10'>\";\n\t\tmodifier +=\t\t\"\t\t\t\t\t<input type='text' name='tmp-modifier-name' class='form-control' placeholder='Modifier Name...'/>\";\n\t\tmodifier +=\t\t\"\t\t\t\t\t<span class='input-group-btn'>\";\n\t\tmodifier +=\t\t\"\t\t\t\t\t\t<button class='btn btn-default add-modifier-item' data-modifier-id='\" + modifierId + \"' type='button' >Add</button>\";\n\t\tmodifier +=\t\t\"\t\t\t\t\t</span>\";\n\t\tmodifier +=\t\t\"\t\t\t\t</div>\";\n        modifier += \t\"\t\t\t\t<div class='error tmp-modifier-name-error'></div>\";\n\t\tmodifier +=\t\t\"\t\t\t</div>\";\n\t\tmodifier +=\t\t\"\t\t</div>\";\n        modifier +=     \"       <div class='row modifier-items-list margin-left-0 margin-right-0'></div>\";\n\t\tmodifier += \t\"\t</div>\";\n        modifier +=\t\t\"</div>\";\n\t\t\n\t\t$(\".new-product-modifier-list\").append( modifier );\n\t});\n\t\n\t$(document).on(\"click\", \".add-modifier-item\", function( ){\n\t\t\n\t\tvar modifierId \t\t= $(this).data('modifier-id');\n\t\t$(\".modifier-container-list-\" + modifierId).find('.error').html( \"\" ).hide( );\n\t\tvar modifierName \t= $(\".modifier-container-list-\" + modifierId).find(\"input[name=tmp-modifier-name]\").val( );\n\t\t\n        if( modifierName == \"\" ){\n            $(\".modifier-container-list-\" + modifierId).find('.tmp-modifier-name-error').html('Please Enter a Modifier Item Name.').show( );\n        }else{\n            var modifierItemId = 0;\n            $(\".modifier-container-list-\" + modifierId)\n            .find(\".modifier-items-list\")\n            .find(\".modifier-item\")\n            .each( function( ){\n                modifierItemId = $(this).data('modifier-item-id') + 1;\n            });\n\n            $(\".modifier-container-list-\" + modifierId)\n            .find(\".modifier-items-list\")\n            .append(\"<div class='col-lg-3 modifier-item modifier-item-\" + modifierId + \"' data-modifier-id='\" + modifierId + \"' data-modifier-item-id='\" + modifierItemId + \"'>\" + modifierName + \" <span class='glyphicon glyphicon-remove-circle glyphicon-align-right pull-right remove-modifier-item' aria-hidden='true'></span></div>\");\t\n            \n            $(\".modifier-container-list-\" + modifierId).find(\"input[name=tmp-modifier-name]\").val( \"\" );\n        }\n        \n    });\n\n    $(document).on(\"click\", \".modifier-item > .remove-modifier-item\", function( ){\n        $(this).parent( ).remove( );\n    });\n\n\t$(\".make-standard-product\").on(\"click\", function( ){\n\t\t\n        var $thisButton = $(this);\n\n        if( $(\".new-product-modifier-list\").children( ).length > 0 ){\n            $(\".modifier-msg\").show( );\t\n\t\t}else{\n\t\t\tnewProductObj.modifiers = [];\n\t\t\t\n\t\t\tif( $(\".breadcrumb\").find(\"li[data-breadcrumb-item=3]\").length == 0 ){\n\t\t\t\t$(\".breadcrumb\").append(\"<li data-breadcrumb-item='3'><a href='/breadcrumb-product-modifiers'>Inventory</a></li>\");\n\t\t\t}\n\n\t\t\t$(\".modifier-msg\").hide( );\n\t\t\tgoToProductStep( 4, 2, \"Causes/Impacts\", \"Modifiers\", \"Shipping\", true );\n\t\t\t\t\n\t\t\tnewProductStep = 4;\n\t\t}\n\t});\n\n    $(\".new-product-causes-impacts\").find(\".project-org-cause\").on(\"click\", function( ){\n\n        var orgCause    = $(this).data(\"org-cause\");\n        var orgCauseId  = $(this).data(\"org-cause-id\");\n\n        if( $(this).find(\".row\").hasClass(\"chosen_project_cause\") ){\n            $(this).find(\".row\").addClass(\"chosen_project_cause\");\n\n            if( typeof newProductObj.causes === \"undefined\" ){\n                newProductObj.causes = [];\n            }\n\n            newProductObj.causes.push({orgCause: orgCause, orgCauseId: orgCauseId});\n        }else{\n            $(this).find(\".row\").removeClass(\"chosen_project_cause\");\n\n            $.each( newProductObj.causes, function( i ){\n                if( newProductObj.causes[i].orgCause == orgCause && newProductObj.causes[i].orgCauseId == orgCauseId ){\n                    newProductObj.causes.splice(i, 1);\n                }\n            });\n        }\n    });\n\n    $(document).on(\"click\", \".modifier-shipping-row input[type=checkbox]\", function( ){\n\n        var $parent             = $(this).parent( );\n        var $grandParent        = $parent.parent( );\n        var $greatGrandParent   = $grandParent.parent( );\n\n        if( ! $(this).is(\":checked\") ){\n            $grandParent.css(\"border-bottom\", \"1px solid #000\");\n            $greatGrandParent.find(\".modifier-item-shipping-info\").show( );\n        }else{\n            \n            $grandParent.css(\"border\", \"none\");\n            $greatGrandParent.find(\".modifier-item-shipping-info\").hide( );\n            $greatGrandParent.find(\".modifier-item-shipping-info\").find(\"input[type=text]\").val( );\n        }\n    });\n\n    $(\".continue-with-standard-product\").on(\"click\", function( ){\n\n        newProductObj.modifiers = [];\n\n        $(\".new-product-modifier-list\").find(\".modifier\").remove( );\n\n        if( $(\".breadcrumb\").find(\"li[data-breadcrumb-item=3]\").length == 0 ){\n            $(\".breadcrumb\").append(\"<li data-breadcrumb-item='3'><a href='/breadcrumb-product-modifiers'>Inventory</a></li>\");\n        }\n        \n        $(\".modifier-msg\").hide( );\n\n        goToProductStep( 4, 2, \"Causes/Impacts\", \"Modifiers\", \"Shipping\", true );\n            \n        newProductStep = 4;\n    });\n\n    $(\".dismiss-this-warning\").on(\"click\", function( ){\n        $(this).parent( ).hide( );\n    });\n\n    $(\".remove-product\").on(\"click\", function( ){\n        var self = $(this);\n        var productId = $(this).parent( ).data(\"product-id\");\n        var token = $(document).find(\"input[name=_token]\").val( );\n\n        $.ajax({\n            url: \"/organization/removeProduct\",\n            method: \"POST\",\n            data: \"productId=\" + productId + \"&_token=\" + token,\n            success: function( ){\n                self.parent( ).remove( );\n                productChange = true;\n            }\n        });\n    });\n\n    $(\"#productAdminModal\").on(\"hide.bs.modal\", function( ){\n        if( productChange ){\n            location.reload( );\n        }\n    });\n    \n    /** End Product Modal **/\n    \n    function processNewProductStepOne( ){\n\t    \n\t    var $parent = $(\"#productAdminModal\");\n        \n        $(\".new-product-info\")\n\t    .find(\".errors\")\n\t    .html(\"\")\n\t    .hide( );\n\t    \n\t    var productName \t\t= $parent.find(\"input[name=product_name]\").val( );\n\t    var productSKU\t\t\t= $parent.find(\"input[name=product_sku]\").val( );\n\t    var productPrice\t\t= $parent.find(\"input[name=product_price]\").val( );\n\t    var productQuantity \t= $parent.find(\"input[name=product_quantity]\").val( );\n\t    var productCategoryVal \t= $parent.find(\"select[name=product_category]\").find(\"option:selected\").val( );\n\t    var productCategoryText = $parent.find(\"select[name=product_category]\").find(\"option:selected\").text( );\n\t    var sProductDesc\t\t= $parent.find(\"textarea[name=short_product_description]\").val( );\n\t    var lProductDesc\t\t= $parent.find(\"textarea[name=long_product_description]\").val( );\n\t    var errors \t\t\t\t= {};\n\t    \n\t    if( productName == \"\" ){\n\t\t    errors.product_name = \"Please Enter a Product Name.\";\n\t    }\n\t    \n\t    if( productPrice == \"\" ){\n\t\t    errors.product_price = \"Please Enter a Product Price.\";\n\t    }else{\n\t\t    if( isNaN( parseInt( productPrice ) ) ){\n\t\t\t    errors.product_price = \"Please Enter a Number for the Price.\";\n\t\t    }\n\t    }\n\t    \n\t    if( productQuantity == \"\" ){\n\t\t    errors.product_quantity = \"Please Enter a Product Quantity.\";\n\t    }else{\n\t\t    if( isNaN( parseInt(productQuantity ) ) ){\n\t\t\t    errors.product_quantity = \"Please Enter a Number for the Quantity.\";\n\t\t    }\n\t    }\n\t    \n\t    if( productSKU == \"\" ){\n\t\t    errors.product_sku = \"Please Enter a Product SKU.\";\n\t    }\n\t    \n\t    if( productCategoryVal == 0 ){\n\t\t    errors.product_category = \"Please Select a Product Category.\";\n\t    }\n\n\t    if( getObjectSize( errors ) == 0 ){\n\t\t\tnewProductObj.productName \t\t\t= productName;\n\t\t\tnewProductObj.productShortDesc \t\t= sProductDesc;\n\t\t\tnewProductObj.productLongDesc \t\t= lProductDesc;    \n\t\t\tnewProductObj.productPrice\t\t\t= productPrice;\n\t\t\tnewProductObj.productQuantity\t\t= productQuantity;\n\t\t\tnewProductObj.productSKU \t\t\t= productSKU;\n\t\t\tnewProductObj.productCategoryVal\t= productCategoryVal;\n\t\t\tnewProductObj.productCategoryText \t= productCategoryText;\n\t\t\t\n\t\t\treturn true;\n\t    }else{\n\t\t\t\n\t\t\tfor( var x in errors ){\n\t\t\t\tif( x == \"product_quantity\"){\n\t\t\t\t\t$(\".new-product-info\")\n\t\t\t\t\t.find(\".\" + x + \"-error\")\n\t\t\t\t\t.html( errors[x] )\n\t\t\t\t\t.css(\"display\",\"inline-block\");\t\t\n\t\t\t\t}else{\n\t\t\t\t\t$(\".new-product-info\")\n\t\t\t\t\t.find(\".\" + x + \"-error\")\n\t\t\t\t\t.html( errors[x] )\n\t\t\t\t\t.show( );\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\t    \n\t\t}\n\t}\n\t\n\tfunction processNewProductStepTwo( ){\n\t\t\n\t\tvar $modifierList =  $(\"#productAdminModal\").find(\".new-product-modifier-list\");\n\t\t\n\t\tnewProductObj.modifiers = [];\n\t\t\n\t\tvar errors = {};\n\t\t\n\t\tvar modifierList = [];\n\n        var largestId = 0;\n\t\t\n\t\t$modifierList.find(\".modifier\").each( function( i ){\n\t\t\t\n\t\t\tvar modifier = {};\n\t\t\t\n\t\t\t//errors.\n\t\t\t\n\t\t\tmodifier.id = $(this).data('modifier-id');\n\n            modifier.title = $(this).find(\"input[name=modifier-title-\" + modifier.id + \"]\").val( );\n\t\t\t\n\t\t\tif( modifier.title == \"\" ){\n\t\t\t\t//set error for this title\n\t\t\t}\n\n            var modifierItemIncrement = 0;\n\t\t\t\n\t\t\tif( $(this).find(\".modifier-container-list-\" + modifier.id ).find(\".modifier-item\").length == 0 ){\n\t\t\t\t// set error indicating no modifier items have been added\n\t\t\t}else{\n\t\t\t\tmodifier.items = [];\t\n\t\t\t\t\n                $(this).find(\".modifier-container-list-\" + modifier.id ).find(\".modifier-item\").each( function( i ){\n\t\t\t\t\tmodifier.items.push( { id: i, modifierTitle : $(this).text( ) } );\n\n                    modifierItemIncrement = i;\n\t\t\t\t});\n\t\t\t}\n\n            var tmpInputValue = $(\".modifier-\" + modifier.id).find(\"input[name=tmp-modifier-name]\").val( ) \n\n            if( tmpInputValue != \"\" ){\n\n                modifierItemIncrement++;\n\n                modifier.items.push({ id: modifierItemIncrement, modifierTitle : tmpInputValue} );\n            }\n\t\t\t\n\t\t\tmodifierList.push( modifier );\n\t\t});\n\t\t\n\t\tnewProductObj.modifiers = modifierList;\n\t\t\n\t\treturn true;\n\t}\n\t\n\tfunction setUpInventory( ){\n\t\t\n\t\tvar $inventory = $(\"#productAdminModal\").find(\".new-product-inventory\");\n\n        $inventory.html( \"\" );\n\t\t\n        var topRow  = \"<div class='row'>\";\n        topRow      += \" <div class='col-lg-6' style='font-weight: bold;'>Product Modifiers</div>\";\n        topRow      += \" <div class='col-lg-3' style='font-weight: bold;'>Quantity</div>\";\n        topRow      += \" <div class='col-lg-3' style='font-weight: bold;'>Price Diff</div>\";\n        topRow      += \"</div>\";\n\n        $inventory.append( topRow );\n\n        if( newProductObj.modifiers.length > 0 ){\n            var modifierDisplays = [];\n\n            for( var i = 0 ; i < newProductObj.modifiers.length ; i++ ){\n                for( var j = 0 ; j < newProductObj.modifiers[i].items ; j++ ){\n                    modifierDisplays[i]\n                }\n            }\n\n            if( newProductObj.modifiers.length == 1 ){\n                $.each( newProductObj.modifiers[0].items, function( i ){\n                    \n                    var newRow = \"<div class='row modifier-inventory-row margin-0' data-ids='\" + newProductObj.modifiers[0].items[i].id + \"'>\";\n                    newRow += \" <div class='col-lg-6 padding-top-10' style='vertical-align: middle;'>\" + newProductObj.modifiers[0].items[i].modifierTitle + \"</div>\";\n                    newRow += \"\t<div class='col-lg-3'><input type='text' name='quantity' class='form-control' placeholder='0' /></div>\";\n                    newRow += \" <div class='col-lg-3'><input type='text' name='priceDiff' class='form-control' placeholder='0' /></div>\";\n                    newRow += \"</div>\";\n\n                    $inventory.append( newRow );\n                });\n            }else{\n                $.each( newProductObj.modifiers[0].items, function( i ){\n                    var display = newProductObj.modifiers[0].items[i].modifierTitle;\n                    var ids     = newProductObj.modifiers[0].items[i].id;\n\n                    for( var j = 1 ; newProductObj.modifiers[j] ; j++ ){\n                        $.each( newProductObj.modifiers[j].items, function( k ){\n                            \n                            var newRow = \"<div class='row modifier-inventory-row margin-0' data-ids='\" + ids + \"|\" + newProductObj.modifiers[j].items[k].id + \"'>\";\n                            newRow += \" <div class='col-lg-6 padding-top-10' style='vertical-align: middle;'>\" + display + \"-> \" + newProductObj.modifiers[j].items[k].modifierTitle + \"</div>\";\n                            newRow += \"\t<div class='col-lg-3'><input type='text' name='quantity' class='form-control' placeholder='0' /></div>\";\n                            newRow += \" <div class='col-lg-3'><input type='text' name='priceDiff' class='form-control' placeholder='0' /></div>\";\n                            newRow += \"</div>\";\n\n                            $inventory.append( newRow );\n                        });\n                    }\n                });\n            }\n        }\n    }\n    \n    function processNewProductStepThree( ){\n\t\t\n\t\tvar $inventory = $(\"#productAdminModal\").find(\".new-product-inventory\");\n\t\t\n        newProductObj.modifierInventory = [];\n\n\t\t$inventory.find(\".modifier-inventory-row\").each( function( ){\n\t\t\t\n\t\t\tvar modifierId = $(this).data('modifier-id');\n\t\t\tvar modifierItemId = $(this).data('modifier-item-id');\n\n            var ids = $(this).data(\"ids\");\n\n            newProductObj.modifierInventory.push({ idList: ids, quantity: $(this).find(\"input[name=quantity]\").val( ), priceDiff: $(this).find(\"input[name=priceDiff]\").val( ) });\n\t\t});\n\n        return true;\n\t}\n\t\n\tfunction setUpShippingForModifiers( ){\n\t\t\n\t\tvar $shipping = $(\"#productAdminModal\").find(\".new-product-shipping\").find(\".modifier-shipping-items\");\n        $shipping.html(\"\");\n\n        var modifierDisplays = [];\n        /**\n        for( var i = 0 ; i < newProductObj.modifiers.length ; i++ ){\n            for( var j = 0 ; j < newProductObj.modifiers[i].items ; j++ ){\n                modifierDisplays[i]\n            }\n        }*/\n\n        if( newProductObj.modifiers.length == 1 ){\n            $.each( newProductObj.modifiers[0].items, function( i ){\n                var newRow  = \"<div class='row modifier-shipping-row' data-modifier-ids='\" + newProductObj.modifiers[0].items[i].id + \"' >\";\n                newRow      += \"\t<div class='col-lg-12'>\";\n                newRow      += \"\t\t<div class='row padding-bottom-5'>\";\n                newRow      += \"\t\t\t<div class='col-lg-6 text-left'>\";\n                newRow      +=\t\t\t\tnewProductObj.modifiers[0].items[i].modifierTitle;\n                newRow      += \"\t\t\t</div>\";\n                newRow      += \"\t\t\t<div class='col-lg-6 text-right'>\";\n                newRow      += \"\t\t\t\tSame as Above <input type='checkbox' name='save-as-above' value='\" + newProductObj.modifiers[0].items[i].id +\"' checked />\";\n                newRow      += \"\t\t\t</div>\";\n                newRow      += \"\t\t</div>\";\n                newRow      += \"\t\t<div class='row modifier-item-shipping-info'>\";\n                newRow      += \"\t\t\t<div class='col-lg-12'>\";\n                newRow      += \"\t\t\t\t<div class='row'>\";\n                \n                /** Retrieve the HTML from \"productGeneralShippingLine1\" DIV Block */\n                var productGeneralShippingLine1 = $(\"#productAdminModal\").find(\"#productGeneralShippingLine1\").html( );\n\n                /** Replace Error classes with classes for modifiers */\n                productGeneralShippingLine1.replace(\"product_flat_rate_shipping_fee-error\", \"product_flat_rate_shipping_fee_modifier_\" + newProductObj.modifiers[0].items[i].id + \"-error\");\n                productGeneralShippingLine1.replace(\"product_shipping_time-error\", \"product_shipping_time_modifier_\" + newProductObj.modifiers[0].items[i].id + \"-error\");\n\n                /** Retrieve the HTML from \"productGeneralShippingLine2\" DIV Block */\n                var productGeneralShippingLine2 = $(\"#productAdminModal\").find(\"#productGeneralShippingLine2\").html( );\n\n                /** Replace Error classes with classes for modifiers */\n                productGeneralShippingLine2.replace(\"product_weight-error\", \"product_weight_modifier_\" + newProductObj.modifiers[0].items[i].id + \"-error\");\n                productGeneralShippingLine2.replace(\"product_dimensions-error\", \"product_dimensions_modifier_\" + newProductObj.modifiers[0].items[i].id + \"-error\");\n\n                newRow      +=\t\t\t\t    productGeneralShippingLine1;\n                newRow      += \"\t\t\t\t</div>\";\n                newRow      += \"\t\t\t\t<div class='row'>\";\n                newRow      +=\t\t\t\t\tproductGeneralShippingLine2;\n                newRow      += \"\t\t\t\t</div>\";\n                newRow      += \"\t\t\t</div>\";\n                newRow      += \"\t\t</div>\";\n                newRow      += \"\t</div>\";\n                newRow      += \"</div>\";\n\n                $shipping.append( newRow );\n            });\n        }else{\n            $.each( newProductObj.modifiers[0].items, function( i ){\n                var display = newProductObj.modifiers[0].items[i].modifierTitle;\n                var ids     = newProductObj.modifiers[0].items[i].id;\n\n                for( var j = 1 ; newProductObj.modifiers[j] ; j++ ){\n                    $.each( newProductObj.modifiers[j].items, function( k ){\n                        \n                        var newRow  = \"<div class='row modifier-shipping-row' data-modifier-ids='\" + ids + \"|\" + newProductObj.modifiers[j].items[k].id + \"' >\";\n                        newRow      += \"\t<div class='col-lg-12'>\";\n                        newRow      += \"\t\t<div class='row padding-bottom-5'>\";\n                        newRow      += \"\t\t\t<div class='col-lg-6 text-left'>\";\n                        newRow      +=\t\t\t\tdisplay + \"->\" + newProductObj.modifiers[j].items[k].modifierTitle;\n                        newRow      += \"\t\t\t</div>\";\n                        newRow      += \"\t\t\t<div class='col-lg-6 text-right'>\";\n                        newRow      += \"\t\t\t\tSame as Above <input type='checkbox' name='save-as-above' value='\" + ids + \"|\" + newProductObj.modifiers[j].items[k].id +\"' checked />\";\n                        newRow      += \"\t\t\t</div>\";\n                        newRow      += \"\t\t</div>\";\n                        newRow      += \"\t\t<div class='row modifier-item-shipping-info'>\";\n                        newRow      += \"\t\t\t<div class='col-lg-12'>\";\n                        newRow      += \"\t\t\t\t<div class='row'>\";\n                        \n                        /** Retrieve the HTML from \"productGeneralShippingLine1\" DIV Block */\n                        var productGeneralShippingLine1 = $(\"#productAdminModal\").find(\"#productGeneralShippingLine1\").html( );\n\n                        /** Replace Error classes with classes for modifiers */\n                        productGeneralShippingLine1.replace(\"product_flat_rate_shipping_fee-error\", \"product_flat_rate_shipping_fee_modifier_\" + ids + \"-error\");\n                        productGeneralShippingLine1.replace(\"product_shipping_time-error\", \"product_shipping_time_modifier_\" + ids + \"-error\");\n\n                        /** Retrieve the HTML from \"productGeneralShippingLine2\" DIV Block */\n                        var productGeneralShippingLine2 = $(\"#productAdminModal\").find(\"#productGeneralShippingLine2\").html( );\n\n                        /** Replace Error classes with classes for modifiers */\n                        productGeneralShippingLine2.replace(\"product_weight-error\", \"product_weight_modifier_\" + ids + \"-error\");\n                        productGeneralShippingLine2.replace(\"product_dimensions-error\", \"product_dimensions_modifier_\" + ids + \"-error\");\n\n                        newRow      +=\t\t\t\t    productGeneralShippingLine1;\n                        newRow      += \"\t\t\t\t</div>\";\n                        newRow      += \"\t\t\t\t<div class='row'>\";\n                        newRow      +=\t\t\t\t\tproductGeneralShippingLine2;\n                        newRow      += \"\t\t\t\t</div>\";\n                        newRow      += \"\t\t\t</div>\";\n                        newRow      += \"\t\t</div>\";\n                        newRow      += \"\t</div>\";\n                        newRow      += \"</div>\";\n\n                        $shipping.append( newRow );\n                    });\n                }\n            });\n        }\n\t\t\n\t\t$(\".modifier-item-shipping-info\").find(\"input[type=text]\").val(\"\");\n\t}\n\n    function processNewProductStepFour( ){\n\t\t\n\t\tvar product_shipping_fee \t= $(\"#productGeneralShippingLine1\").find(\"input[name=product_flat_rate_shipping_fee]\").val( );\n\t\tvar product_shipping_time \t= $(\"#productGeneralShippingLine1\").find(\"input[name=product_shipping_time]\").val( );\t\n\t\tvar product_weight \t\t\t= $(\"#productGeneralShippingLine2\").find(\"input[name=product_weight]\").val( );\n\t\tvar product_width\t\t\t= $(\"#productGeneralShippingLine2\").find(\"input[name=product_dimensions_width]\").val( );\n\t\tvar product_length \t\t\t= $(\"#productGeneralShippingLine2\").find(\"input[name=product_dimensions_length]\").val( );\n\t\tvar product_height \t\t\t= $(\"#productGeneralShippingLine2\").find(\"input[name=product_dimensions_height]\").val( );\t\t\n\t\t\n\t\terrors = {};\n\t\t\n\t\tif( product_shipping_fee == \"\" ){\n\t\t\terrors.product_flat_rate_shipping_fee = \"Please Enter Shipping Fee.\";\n\t\t}else{\n\t\t\tif( isNaN( parseInt( product_shipping_fee ) ) ){\n\t\t\t\terrors.product_flat_rate_shipping_fee = \"The Shipping Fee must be a Number.\";\n\t\t\t}\n\t\t}\n\t\t\n\t\tif( product_shipping_time == \"\" ){\n\t\t\terrors.product_shipping_time = \"Please Enter a Shipping Time.\";\n\t\t}else{\n\t\t\tif( isNaN( parseInt( product_shipping_time ) ) ){\n\t\t\t\terrors.product_shipping_time = \"The Shipping Time must be a Number.\";\n\t\t\t}\n\t\t}\n\t\t\n\t\tif( ( product_weight != \"\" ) && isNaN( parseInt( product_weight ) ) ){\n\t\t\terrors.product_weight = \"The Product Weight Must be a Number.\";\n\t\t}\n\t\t\n\t\tif( ( product_width != \"\" ) && isNaN( parseInt( product_width ) ) ){\n\t\t\terrors.product_width = \"The Product Width Must be a Number.<br />\";\n\t\t}\n\t\t\n\t\tif( ( product_length != \"\" ) && isNaN( parseInt( product_length ) ) ){\n\t\t\terrors.product_length = \"The Product Length Must be a Number.<br />\";\n\t\t}\n\t\t\n\t\tif( ( product_height != \"\" ) && isNaN( parseInt( product_height ) ) ){\n\t\t\terrors.product_height = \"The Product Height Must be a Number.<br />\";\n\t\t}\n\t\t\n\t\tvar shippingMethods = [];\n\t\t\n\t\t$(\"#productAdminModal\").find(\".product-shipping-methods-container\").find(\"input[type=checkbox]\").each( function( i ){\n\t\t\tif( $(this).parent( ).hasClass('active') ){\n\t\t\t\tshippingMethods.push( $(this).val( ) );\n\t\t\t}\n\t\t});\n\t\t\n\t\tif( shippingMethods.length == 0 ){\n\t\t\terrors.shipping_method = \"Please Select a Shipping Method.\";\n\t\t}\n\t\t\n\t\tvar $modifierShippingMethods = $(\"#productAdminModal\").find(\".new-product-shipping\").find(\".modifier-shipping-items\");\n\t\t\n\t\t$modifierShippingMethods.find(\".modifier-shipping-row\").each( function( ){\n\n            var $modifierShippingRow = $(this);\n            var ids = $modifierShippingRow.data('modifier-ids');\n            \n            if( $(this).find(\"input[name=same-as-above]\").not(\":checked\") ){\n\t\t\t\t/** Check for each product shipping modifier dimensions */\n\n                $.each( newProductObj.modifierInventory, function( i ){\n                    \n                    if( newProductObj.modifierInventory[i].idList == ids ){\n                        newProductObj.modifierInventory[i].shippingFee  = $modifierShippingRow.find('input[name=product_flat_rate_shipping_fee]').val( );\n                        newProductObj.modifierInventory[i].shippingTime = $modifierShippingRow.find(\"input[name=product_shipping_time]\").val( );\n                        newProductObj.modifierInventory[i].weight       = $modifierShippingRow.find(\"input[name=product_weight]\").val( );\n                        newProductObj.modifierInventory[i].length       = $modifierShippingRow.find(\"input[name=product_dimensions_length]\").val( );\n                        newProductObj.modifierInventory[i].width        = $modifierShippingRow.find(\"input[name=product_dimensions_width]\").val( );\n                        newProductObj.modifierInventory[i].height       = $modifierShippingRow.find(\"input[name=product_dimensions_height]\").val( );\n                    }\n                });\n            }\n\t\t});\n\t\t\n\t\tif( getObjectSize( errors ) == 0 ){\n\t\t\tnewProductObj.shipping_fee \t\t= product_shipping_fee;\n\t\t\tnewProductObj.shipping_time \t= product_shipping_time;\t\n\t\t\tnewProductObj.weight \t\t\t= product_weight;\n\t\t\tnewProductObj.width\t\t\t\t= product_width;\n\t\t\tnewProductObj.length \t\t\t= product_length;\n\t\t\tnewProductObj.height \t\t\t= product_height;\n\t\t\tnewProductObj.shippingMethods\t= shippingMethods;\n\n            /** Loop through modifier object and append shipping data, if any */\n\n            return true;\n\t\t}else{\n\t\t\tfor( var x in errors ){\n\t\t\t\tif( x == \"product_height\" || x == \"product_length\" || x == \"product_width\" ){\n\t\t\t\t\t$(\".product_dimenstions-error\").append( errors[x] ).show( );\n\t\t\t\t}else if( x == \"shipping_method\" ){\n\t\t\t\t\t$(\".product-shipping-method-errors\").html( errors[x] ).show( );\n\t\t\t\t}else{\n\t\t\t\t\t$(\".\" + x + \"-error\").html( errors[x] ).show( );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction goToProductStep( stepIn, stepOut, nextButtonText, prevButtonText, breadCrumbName, fastForward = false ){\n\t\t\n        //console.log( stepIn + \" \" + stepOut + \" \" + nextButtonText + \" \" + prevButtonText + \" \" + breadCrumbName );\n\n        $(\".new-product-content\").find(\"div[data-product-step=\" + stepOut + \"]\").fadeOut(\"slow\", function(){\n\t\t\t\n\t\t\t$(\".new-product-content\").find(\"div[data-product-step=\" + stepIn + \"]\").fadeIn( );\n\t\t\t\n\t\t\t/** Check if breadcrumbs have the next step **/\n\t\t\tif( $(\".breadcrumb\").find(\"li[data-breadcrumb-item=\" + stepIn + \"]\").length == 0 && breadCrumbName != \"\"){\n                if( $(\".breadcrumb\").find(\"li[data-breadcrumb-item=\" + stepIn + \"]\").length == 0 ){\n                    $(\".breadcrumb\").append(\"<li data-breadcrumb-item='\" + stepIn + \"'><a href='/breadcrumb-product-modifiers'>\" + breadCrumbName + \"</a></li>\");\n                }\n\t\t\t}\n\t\t\t\n\t\t\tvar $modal = $(\"#productAdminModal\");\n\t\t\t\n\t\t\t/** Set Right Action button **/\n\t\t\t$modal\n\t\t\t.find(\".right-action > button\")\n\t\t\t.data(\"product-next-step\", ( stepIn + 1 ) )\n\t\t\t.html(nextButtonText + \" >>\");\n\t\t\t/** Set Left Action button **/\n            if( prevButtonText == \"\" ){\n                $modal\n                .find(\".left-action > button\")\n                .data(\"product-prev-step\", ( stepOut ) )\n                .html(\"<< \" + prevButtonText)\n                .addClass('hidden');\n            }else{\n                $modal\n                .find(\".left-action > button\")\n                .data(\"product-prev-step\", ( stepOut ) )\n                .html(\"<< \" + prevButtonText)\n                .removeClass('hidden');\n            }\n\t\t});\t\n\t}\n\n    function clearIncentiveForm( $parentEl ){\n        $parentEl.find(\"input[name=incentive-name]\").val(\"\");\n        $parentEl.find(\"input[name=incentive-donation-amount]\").val(\"\");\n        $parentEl.find(\"input[name=incentive-number-available]\").val(\"\");\n        $parentEl.find(\"textarea[name=incentive-description]\").jqteVal(\"\");\n        $parentEl.find(\"input[name=incentive-has-shipping]\").prop(\"checked\", false);\n    }\n\n    function clearUpdateForm( $parentEl ){\n        $parentEl.find(\"input[name=update-title]\").val(\"\");\n        $parentEl.find(\"textarea[name=update-desc]\").jqteVal(\"\");\n    }\n\n    function clearSubCauses( ){\n        $(\".availableSubCauseList label\").each( function( ){\n            $(this).find(\"input[type=radio]\").prop(\"checked\", false);\n            $(this).removeClass(\"active\");\n            $(this).hide( );\n        });\n    }\n\n    function clearOtherCauses( id ){\n        $(\".availableCauseList label\").each( function( ){\n            if( id > 0 ){\n                var thisCauseId = $(this).find(\"input[type=radio]\").prop(\"id\").split(\"-\")[2];\n\n                if( thisCauseId != id ){\n                    $(this).find(\"input[type=radio]\").prop(\"checked\", false);\n                    $(this).find(\"input[type=radio]\").parent( ).removeClass('active');\n                }\n            }else{\n                $(this).find(\"input[type=radio]\").prop(\"checked\", false);\n                $(this).find(\"input[type=radio]\").parent( ).removeClass('active');\n            }\n        });\n    }\n\n    function clearCountries( ){\n        $(\".country-list\").html(\"\").hide( );\n    }\n    \n    function getObjectSize( obj ){\n\t    \n\t    var len = 0;\n\t    \n\t    for( var o in obj ){\n\t\t    len++;\n\t    }\n\t    \n\t    return len;\n    }\n});\n\nfunction navigateToProducts( userId, token ){\n    location.href = '/passthru?id=' + userId + \"&_token=\" + token;\n}\n"],"sourceRoot":"/source/"}