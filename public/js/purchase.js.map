{"version":3,"sources":["purchase.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"purchase.js","sourcesContent":["$(function( ){\n\t\n\tvar data \t \t \t= {};\n\tvar userId \t\t\t= $(\"input[name=user_id]\").val( );\n\tvar paypal_username = $(\"input[name=paypal_un]\").val( );\n\tvar payment_gateway = $(\"input[name=payment_gateway]\").val( );\n\n\tvar productId \t\t= $(\"input[name=productId]\").val( );\n\tvar shipping \t\t= $(\"input[name=shipping_cost]\").val( );\n\n\tvar modifierIds  \t= $(\"input[name=modifierIds]\").val( );\n\n\tdata.shipping \t\t\t= shipping;\n\tdata.id \t\t\t\t= productId;\n\tdata.user_id\t\t\t= userId;\n\tdata.modifierId     \t= modifierIds;\n\tdata.payment_gateway \t= payment_gateway;\n\n\t//Action for Shipping Address Selection\n    $(\"select[name=userAddresses]\").on(\"change\", function( ){\n        \n        var addressSelected = $(this).find(\":selected\").val( );\n        \n        if( addressSelected == 0 ){\n            $(\"input[name=shippingAddress1]\").val( \"\" );\n            $(\"input[name=shippingAddress2]\").val( \"\" );\n            $(\"input[name=shippingCity]\").val( \"\" );\n            $(\"select[name=shippingState] option\").each( function( i ){\n            \tif( i > 0 ){\n            \t\t$(this).remove( );\n            \t}\n            });\n            $(\"input[name=shippingZip]\").val( \"\" );\n            $(\"select[name=shippingCountry]>option:eq(0)\").prop(\"selected\", true);\n        }else{\n            \n            var addressData = addressSelected.split(\"|\");\n\n            $(\"input[name=shippingAddress1]\").val( addressData[2] );\n         \t$(\"input[name=shippingAddress2]\").val( addressData[3] );\n            $(\"input[name=shippingCity]\").val( addressData[4] );\n            $(\"input[name=shippingZip]\").val( addressData[6] );\n\n            $(\"select[name=shippingState] option\").each( function( i ){\n            \tif( i > 0 ){\n            \t\t$(this).remove( );\n            \t}\n            });\n            \n\t\t\t$(\"select[name=shippingCountry]\").find(\"option[value=\" + addressData[7] + \"]\").prop(\"selected\", true);\n\n\t\t\t$(\"select[name=shippingCountry]\").trigger(\"change\");\n\n            setTimeout( function( ){\n            \t$(\"select[name=shippingState]\").find(\"option[value=\" + addressData[5] + \"]\").prop(\"selected\", true);\n\t\t\t}, 1000);\n        }\n    });\n    \n      //Action for Shipping Address Selection\n    $(\"select[name=userAddressesBilling]\").on(\"change\", function( ){\n        \n        var addressSelected = $(this).find(\":selected\").val( );\n        \n        if( addressSelected == 0 ){\n            $(\"input[name=billingAddress1]\").val( \"\" );\n            $(\"input[name=billingAddress2]\").val( \"\" );\n            $(\"input[name=billingCity]\").val( \"\" );\n            $(\"select[name=billingState] option\").each( function( i ){\n            \tif( i > 0 ){\n            \t\t$(this).remove( );\n            \t}\n            });\n            $(\"input[name=billingZip]\").val( \"\" );\n            $(\"select[name=billingCountry]>option:eq(0)\").prop(\"selected\", true);\n\n            setTimeout( function( ){\n            \t$(\"select[name=billingState]\").find(\"option[value=\" + addressData[5] + \"]\").prop(\"selected\", true);\n\t\t\t}, 1000);\n        }else{\n            \n            var addressData = addressSelected.split(\"|\");\n            \n            $(\"input[name=billingAddress1]\").val( addressData[2] );\n            $(\"input[name=billingAddress2]\").val( addressData[3] );\n            $(\"input[name=billingCity]\").val( addressData[4] );\n            $(\"input[name=billingZip]\").val( addressData[6] );\n            \n\t\t\t$(\"select[name=billingCountry]\").find(\"option[value=\" + addressData[7] + \"]\").prop(\"selected\", true);\n\n\t\t\t$(\"select[name=billingCountry]\").trigger(\"change\");\n\n            $(\"select[name=billingState]\").find(\"option[value=\" + addressData[5] + \"]\").prop(\"selected\", true);\n\t\t\t\n        }\n    });\n\n    var modifierOptions = [];\n\tvar combo = \"\";\n\n\t$(\".product-modifiers select\").on(\"change\", function( i ){\n\t\t\n\t\tvar allSelected = true;\n\t\t\n\t\t$(\".product-modifiers select\").each( function( i ){\n\t\t\t\n\t\t\tif( parseInt( $(this).find(\":selected\").val( ) ) == 0 ){\n\t\t\t\tallSelected = false;\n\t\t\t}\n\t\t});\n\n\t\tif( allSelected ){\n\t\t\t\n\t\t\t$(\".product-modifiers select\").each( function( i ){\n\t\t\t\tmodifierOptions.push( parseInt( $(this).find(\":selected\").val( ) ) );\t\n\t\t\t});\n\t\t\t\n\t\t\tmodifierOptions = modifierOptions.reverse( );\n\t\t\t\t\n\t\t\tcombo = modifierOptions.join( );\n\t\t\t\n\t\t\tdata.modifierId = combo;\n\t\t\t\n\t\t\t$.ajax({\n\t\t\t\tmethod: \"get\",\n\t\t\t\turl: \"/products/getQuantity\",\n\t\t\t\tdata: \"options=\" + combo + \"&id=\" + data.id,\n\t\t\t\tdataType: \"json\",\n\t\t\t\tbeforeSend: function( ){\n\n\t\t\t\t\t$(\"select[name=quantity] option\").each( function( i ){\n\t\t\t\t\t\tif( i > 0 ){\n\t\t\t\t\t\t\t$(this).remove( );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t\t$(\"select[name=quantity]\").find(\"option:first\").html(\"Getting Quantity ...\");\n\t\t\t\t},\n\t\t\t\tsuccess: function( resp ){\n\t\t\t\t\t$(\"select[name=quantity]\").find(\"option:first\").html(\"Select Quantity\");\n\t\t\t\t\tmodifierOptions = [];\n\t\t\t\t\t\n\t\t\t\t\tif( parseInt( resp.count ) > 0 ){\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor( var i = 1 ; i <= resp.count ; i++ ){\n\t\t\t\t\t\t\t$(\"select[name=quantity]\").append(\"<option value='\" + i + \"'>\" + i + \"</option>\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//data.modifierId = resp.modifier_id;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif( parseInt( resp.price ) > 0 ){\n\t\t\t\t\t\t\t$(\".price\").data(\"price\", resp.price );\n\t\t\t\t\t\t\t$(\".price\").html(\"$\" + parseFloat( resp.price ).formatMoney(2, ',', '.') );\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\t\n\t\t\tif( $(\"select[name=quantity]\").length > 1 ){\n\t\t\t\t\n\t\t\t\t$(\"select[name=quantity] option\").each( function( i ){\n\t\t\t\t\t\n\t\t\t\t\tif( i > 0 ){\n\t\t\t\t\t\tremove( $(this) );\n\t\t\t\t\t}\n\t\t\t\t});\t\n\t\t\t}\n\t\t}\n\t});\n\n\t$(\"select[name=quantity]\").on(\"change\", function( ){\n\n\t\tif( $(this).find(\"option:selected\").val( ) == 0 ){\n\t\t\t$(\".price\").html( \"$\" + parseFloat( $(\".price\").data(\"price\") ).formatMoney(2, ',', '.') );\n\t\t}else{\n\t\t\t$(\".price\").html( \"$\" + parseFloat( ($(this).find(\"option:selected\").val( ) * $(\".price\").data('price') ) ).formatMoney(2, ',', '.') );\t\n\t\t}\n\t});\n\n\t$('.continueCheckout').on(\"click\", function( ){\n\t    \n\t    var formData = $('form[name=purchaseCheckoutForm]').serialize( );\n        \n\t\tvar $button = $(this);\n\n\t\tvar modifiers = [];\n        var errors    = [];\n        var product_alias = $(this).data('alias');\n        \n        $(\".error\").hide( );\n\n\t\t$(\".product-modifiers select\").each(function( i ){\n\t        \n\t        var name \t\t= $(this).find(\"option:first\").text( );\n\t\t\t\n\t\t\tvar value \t\t= $(this).find(\":selected\").val( );\n\t\t\tvar valueText \t= $(this).find(\":selected\").text( );\n\t\t\t\n\t\t\tif( value == 0 ){\n\t\t\t\terrors.push($(this).attr(\"name\") + \"|\" + \"Please select a \" + name);\n\t\t\t}else{\n\t\t\t\tmodifiers.push(\"<div class='modifier'><b>\" + name.replace(\"Select \", \"\") + \"</b>: \" + valueText + \"</div>\");\n\t\t\t}\n\t\t});\n\t\t\n\t\tif( $(\"select[name=quantity]\").find(\":selected\").val( ) == \"0\" ){\n\t\t\terrors.push(\"quantity|Please Input a Quantity\");\n\t\t}\n\n\t\tif( errors.length == 0 ){\n\t\t\n\t\t\t$.ajax({\n\t            url: \"/product/validateCheckout\",\n\t            method: \"POST\",\n\t            data: formData,\n\t            beforeSend: function( ){\n\t                \n\t                //clear any error messages\n\t                $(\".error\").html( \"\" ).addClass('hidden');\n\t                \n\t                //change button to show processing\n\t\t\t\t\t$button.html( \"Validating...\");\n\t\t\t        $button.prop(\"disabled\", true);\n\t            },\n\t            success: function( resp ){\n\t\t            \n\t\t            $button.html( \"review order\");\n\t\t\t        $button.prop(\"disabled\", false);\n\t\t\t        \n\t\t\t        if( resp.status ){\n\t\t\t\t        \n\t\t\t\t        var $form = $('form[name=purchaseCheckoutForm]');\n\t\t\t\t        \n\t\t\t\t        data.first_name\t\t\t\t\t= $form.find(\"input[name='first_name']\").val( );\n\t\t\t\t        data.last_name\t\t\t\t\t= $form.find(\"input[name='last_name']\").val( );\n\t\t\t\t        data.email\t\t\t\t\t\t= $form.find(\"input[name='email']\").val( );\n\t\t\t\t        data.shipping_address_line1 \t= $form.find(\"input[name='shippingAddress1']\").val( );\n\t\t\t\t        data.shipping_address_line2 \t= $form.find(\"input[name='shippingAddress2']\").val( );\n\t\t\t\t        data.shipping_city \t\t\t\t= $form.find(\"input[name='shippingCity']\").val( );\n\t\t\t\t        data.shipping_state\t\t\t\t= $form.find(\"select[name='shippingState']\").find(\"option:selected\").text( );\n\t\t\t\t        data.shippingstateId\t\t\t= $form.find(\"select[name='shippingState']\").find(\"option:selected\").val( );\n\t\t\t\t        data.shipping_zip\t\t\t\t= $form.find(\"input[name='shippingZip']\").val( );\n\t\t\t\t        data.shipping_country\t\t\t= $form.find(\"select[name='shippingCountry']\").find(\"option:selected\").text( );\n\t\t\t\t        data.shippingcountryId\t\t\t= $form.find(\"select[name='shippingCountry']\").find(\"option:selected\").val( );\n\t\t\t\t        data.cc_number\t\t\t\t\t= $form.find(\"input[name=cc_number]\").val( );\n\t                \tdata.name_on_card  \t\t\t\t= $form.find(\"input[name=name_on_card]\").val( );\n\t                \tdata.exp_date\t\t\t\t\t= $form.find(\"select[name=exp_date_month]\").find(\"option:selected\").val( ) + \"\" + $form.find(\"select[name=exp_date_year]\").find(\"option:selected\").val( );\n\t                \tdata.ccv \t\t\t\t\t\t= $form.find(\"input[name=ccv]\").val( );\n\t\t\t\t        data.billing_address_line1\t\t= $form.find(\"input[name='billingAddress1']\").val( );\n\t\t\t\t        data.billing_address_line2    \t= $form.find(\"input[name='billingAddress2']\").val( );\n\t\t\t\t        data.billing_city\t\t\t\t= $form.find(\"input[name='billingCity']\").val( );\n\t\t\t\t        data.billing_state \t\t\t\t= $form.find(\"select[name=billingState]\").find(\"option:selected\").text( );\n\t\t\t\t        data.billingstateId\t\t\t\t= $form.find(\"select[name=billingState]\").find(\"option:selected\").val( );\n\t\t\t\t        data.billing_zip\t\t\t\t= $form.find(\"input[name='billingZip']\").val( );\n\t\t\t\t        data.billing_country\t\t\t= $form.find(\"select[name=billingCountry]\").find(\"option:selected\").text( );\n\t\t\t\t        data.billingcountryId\t\t\t= $form.find(\"select[name=billingCountry]\").find(\"option:selected\").val( );\n\t\t\t\t        \n\t\t\t\t\t\tvar shipping;\n\n\t\t\t\t\t\tvar $review = $(\".purchase-review\");\n\n\t\t\t\t\t\tvar cc_mask = data.cc_number.replace(/\\d{12}(\\d{4})/, \"XXXX XXXX XXXX $1\");\n\n\t\t\t\t\t\tdata.shipping = parseFloat( data.shipping ).formatMoney(2, ',', '.');\n\t\t\t\t\t\t\n\t\t\t\t\t\tif( parseInt( data.shipping) == 0 ){\n\t\t\t\t\t\t\tshipping = 0.00;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tshipping = parseFloat( data.shipping );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdata.price \t\t= parseFloat( $(\".price\").data(\"price\") ).formatMoney(2, ',', '.');\n\t\t\t\t\t\tdata.quantity \t= parseInt( $(\"select[name=quantity]\").find(\":selected\").val( ) );\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar subTotal = parseFloat( data.price ) * parseInt( data.quantity );\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar tax = (subTotal/100) * parseFloat( resp.taxCode.tax_percentage );\n\t\t\t\t\t\t\n\t\t\t\t\t\tdata.tax = parseFloat(tax).formatMoney(2, ',', '.');\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar total = parseFloat(subTotal) + parseFloat( tax ) + parseFloat( data.shipping);\n\n\t\t\t\t\t\ttotal = total.formatMoney(2, ',', '.');\n\n\t\t\t\t\t\t$review.find(\".shippingaddress1\").text( data.shipping_address_line1 );\n\t\t\t\t\t\t\n\t\t\t\t\t\t$review.find(\".shippingaddress2\").text( data.shipping_address_line2 );\n\t\t                \n\t\t\t\t\t\t$review.find(\".shippingcity\").text( data.shipping_city );\n\t\t                \n\t\t\t\t\t\t$review.find(\".shippingstate\").text( data.shipping_state );\n\t\t\n\t\t                $review.find(\".shippingzip\").text( data.shipping_zip );\n\t\t\n\t\t                $review.find(\".shippingcountry\").text( data.shipping_country );\n\t\t\n\t\t                $review.find(\".billingaddress1\").text( data.billing_address_line1 );\n\t\t\n\t\t                $review.find(\".billingaddress2\").text( data.billing_address_line2 );\n\t\t\n\t\t                $review.find(\".billingcity\").text( data.billing_city );\n\t\t\n\t\t                $review.find(\".billingstate\").text( data.billing_state );\n\t\t\n\t\t                $review.find(\".billingzip\").text( data.billing_zip );\n\t\t\n\t\t                $review.find(\".billingcountry\").text( data.billing_country );\n\n\t\t                $review.find(\".cc-num\").text( cc_mask );\n\n\t                \t$review.find(\".cc-name\").text( data.name_on_card );\n\n\t                \t$review.find(\".cc-expdate\").text( $form.find(\"select[name=exp_date_month]\").find(\"option:selected\").val( ) + \"/\" + $form.find(\"select[name=exp_date_year]\").find(\"option:selected\").val( ) );\n\n\t                \t$review.find(\".cc-ccv\").text( data.ccv );\n\t\t                \n\t\t                $review.find(\".item-price\").text( \"$\" + parseFloat(data.price * data.quantity).formatMoney(2, ',', '.') );\n\t\t                \n\t\t                $review.find(\".item-tax\").text( \"$\" + parseFloat( tax ).formatMoney(2, ',', '.') );\n\t\t                \n\t\t                $review.find(\".item-shipping\").text( \"$\" + parseFloat(shipping).formatMoney(2, ',', '.') )\n\t\t                \n\t\t                $review.find(\".item-total\").text(\"$\" + parseFloat( total ).formatMoney(2, ',', '.') );\n\t\t                \n\t\t                $review.find(\".product-amount span\").html( \"$\" + parseFloat( data.price ).formatMoney(2, ',', '.') );\n\t\t                \n\t\t                $review.find(\".quantity span\").html( data.quantity );\n\t\t                \n\t\t                $review.find(\".total span\").html( \"$\" + parseFloat( subTotal ).formatMoney(2, ',', '.') );\n\n\t\t                $review.find(\".product-total-amount\").html( \"$\" + total );\n\t\t                \n\t\t\t\t\t\t$(\".product-checkout\").slideUp(\"slow\", function( ){\n\t\t                \t$review.slideDown(\"slow\");\n\t\t                });\n\n\t\t                console.log( \"after validate \" );\n\t\t                console.log( data );\n\t\t                \n\t\t\t        }else{\n\t\t\t\t        \n\t\t\t\t        var errors = resp.errors;\n\t                    \n\t                    for( var key in errors ){\n\t                        $(\".\" + key + \"-error\").html( errors[key] ).removeClass( 'hidden' ).show( );\n\t                    }\n\n\t                    $button.html( \"review order\");\n\t\t\t        \t$button.prop(\"disabled\", false);\n\t\t\t\t\t}\n\t            }\n\t        });\n\t\t}else{\n\n\t\t\t$(\"html, body\").animate({ scrollTop: \"0px\" });\n\n\t\t\tfor(var x in errors){\n\t\t\t\t\n\t\t\t\tvar error = errors[x].split(\"|\");\n\t\t\t\t\n\t\t\t\t$(\".\" + error[0] + \"-error\").html(error[1]).show( );\n\t\t\t}\n\t\t}\n\t});\n\n\t$(\".checkout-button\").on(\"click\", function( ){\n    \n    \tvar order_id = 0;\n\n    \tdata.saveBilling \t= false;\n    \tdata.saveShipping \t= false;\n\n    \tconsole.log( data );\n\n    \tvar $button = $(this);\n\n    \tif( $('form[name=purchaseCheckoutForm]').find(\"input[name=saveShippingAddress]\").is(\":checked\") ){\n    \t\tdata.saveShipping = true;\n    \t}\n\n    \tif( $('form[name=purchaseCheckoutForm]').find(\"input[name=saveBillingAddress]\").is(\":checked\") ){\n    \t\tdata.saveBilling = true;\n    \t}\n    \t\n    \t$.ajax({\n\t    \tmethod: \"post\",\n\t    \turl: \"/products/setPendingTransaction\",\n\t    \tbeforeSend: function( ){\n\t                \n                //change button to show processing\n\t\t\t\t$button.html( \"Purchasing...\");\n\t\t        $button.prop(\"disabled\", true);\n            },\n\t    \tdata: data,\n\t    \tdataType: \"json\",\n\t    \tsuccess: function( resp ){\n\n\t    \t\t$button.html( \"Place Order\");\n\t\t        $button.prop(\"disabled\", false);\n\n\t\t\t\tif( resp.status ){\n\n\t\t\t\t\t$(\".purchase-review\")\n\t\t\t\t\t.find(\".header:first\")\n\t\t\t\t\t.html(\"<div class='checkout-thank-you-message'>Thank you for your Purchase!</div><div> You will recieve an email shortly.</div>\");\n\n\t\t    \t\t$(\".purchase-review\")\n\t\t    \t\t.find(\".order-review-incentive\")\n\t\t    \t\t.html(\"<p class='header'>Reference Number</p><div>\" + resp.txnId + \"</div>\");\n\n\t\t    \t\t$(\"button.edit-button\")\n\t\t    \t\t.remove( );\n\n\t\t    \t\t$button\n\t\t    \t\t.remove( );\n\n\t\t    \t\t$(\"html, body\").animate({ scrollTop: \"0px\" });\n\t\t\t\t}else{\n\t\t    \t\t$(\".purchase-review\")\n\t\t    \t\t.find(\"order-error\")\n\t\t    \t\t.html( resp.reason );\n\t\t    \t}\n\t\t    }\n    \t});\n    });\n\n    $(\".edit-button\").on(\"click\", function( e ){\n\n    \tvar $review = $(\".purchase-review\");\n\n    \t$review.slideUp(\"slow\", function( ){\n    \t\t$(\".product-checkout\").show( );;\t\n    \t});\n\t});\n});\n"],"sourceRoot":"/source/"}